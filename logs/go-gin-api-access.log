{"level":"info","time":"2021-05-06 14:59:40","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0002175,"trace_id":"724272fbbdd59212af72","trace_info":{"trace_id":"724272fbbdd59212af72","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 87mC0MFpV9k9XeBYYZjtKUJJ3kA5orHuZa2YZ7ahvKM="],"Authorization-Date":["2021-05-06 14:59:41"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_title_=%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98; _nav_url_=%2Ftool%2Fcache"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["724272fbbdd59212af72"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"签名信息有误","Err":{}},"business_code":10104,"business_code_msg":"签名信息有误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0002172},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.0002175},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/data/www/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374"}
{"level":"info","time":"2021-05-06 14:59:51","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0001056,"trace_id":"63a64bcd3d175b1b5504","trace_info":{"trace_id":"63a64bcd3d175b1b5504","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin yN00SaGQw1Y855IZS2siNTcwqX7bDx6M0DZ9z77xbS4="],"Authorization-Date":["2021-05-06 14:59:52"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["63a64bcd3d175b1b5504"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"签名信息有误","Err":{}},"business_code":10104,"business_code_msg":"签名信息有误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0001054},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.0001056},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/data/www/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374"}
{"level":"error","time":"2021-05-06 14:59:57","caller":"core/core.go:359","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 75 [running]:\nruntime/debug.Stack(0xc001845060, 0x103fb20, 0x2a9b790)\n\t/usr/lib/golang/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0xc0000809c0, 0x1339440, 0xc000010878, 0xc0004cfe00, 0xc00189c000, 0xc01d02db7b559b10, 0x1308be83ad, 0x2ab7d80)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:358 +0x19f3\npanic(0x103fb20, 0x2a9b790)\n\t/usr/lib/golang/src/runtime/panic.go:969 +0x1b9\ngithub.com/xinliangnote/go-gin-api/internal/api/service/authorized_service.(*service).DetailByKey(0xc00012ed40, 0x1339440, 0xc000688058, 0xc0004dad40, 0x5, 0x1, 0xc00012f9c0, 0x2)\n\t/data/www/go-gin-api/internal/api/service/authorized_service/service_detailbykey.go:30 +0x134\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Signature.func1(0x1339440, 0xc000688058)\n\t/data/www/go-gin-api/internal/router/middleware/middle_signature.go:60 +0x5fa\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0xc00189c000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214 +0xad\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00189c000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0xc00189c000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505 +0x1b0\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00189c000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0xc00189c000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487 +0x210\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00189c000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0xc00189c000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336 +0x52\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00189c000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000014500, 0xc00189c000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409 +0x67a\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000014500, 0x131e8e0, 0xc0003b0620, 0xc0018a4b00)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367 +0x14d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0xc00012c148, 0x131e8e0, 0xc0003b0620, 0xc0018a4b00)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234 +0x4c\nnet/http.serverHandler.ServeHTTP(0xc0003b0000, 0x131e8e0, 0xc0003b0620, 0xc0018a4b00)\n\t/usr/lib/golang/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc000016500, 0x1321f20, 0xc000323300)\n\t/usr/lib/golang/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/lib/golang/src/net/http/server.go:2969 +0x36c\n"}
{"level":"error","time":"2021-05-06 14:59:57","caller":"notify/notify.go:15","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 14:59:57","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/login/web","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.000811,"trace_id":"90363866eef5d3c09c2b","trace_info":{"trace_id":"90363866eef5d3c09c2b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 6GNBnwma340p7SZEyEXtN6bis+QVGGB4PeD3094KAGo="],"Authorization-Date":["2021-05-06 14:59:58"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/login"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["90363866eef5d3c09c2b"],"Vary":["Origin"]},"body":{"HttpCode":500,"BusinessCode":10101,"Message":"Internal Server Error","Err":null},"business_code":10101,"business_code_msg":"Internal Server Error","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.0008108},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000811}}
{"level":"info","time":"2021-05-06 15:08:50","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 15:09:00","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0001615,"trace_id":"fd211bb8d39998a6d18d","trace_info":{"trace_id":"fd211bb8d39998a6d18d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin hANuYiFdxHNXUDUXd6TLloKacJgq08oa1nFlOaZfAFo="],"Authorization-Date":["2021-05-06 15:09:01"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fd211bb8d39998a6d18d"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"签名信息有误","Err":{}},"business_code":10104,"business_code_msg":"签名信息有误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0001613},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.0001615},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/data/www/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374"}
{"level":"info","time":"2021-05-06 15:09:09","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0000609,"trace_id":"4476bbaac644cb59692b","trace_info":{"trace_id":"4476bbaac644cb59692b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin IT/nzh3EvogoNn1Q6vBU1s2PYfagtsmEb+sjDxRpJaE="],"Authorization-Date":["2021-05-06 15:09:10"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4476bbaac644cb59692b"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"签名信息有误","Err":{}},"business_code":10104,"business_code_msg":"签名信息有误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0000606},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.0000609},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/data/www/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374"}
{"level":"info","time":"2021-05-06 15:09:16","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/login/web","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0516985,"trace_id":"c1221bcef4563f548004","trace_info":{"trace_id":"c1221bcef4563f548004","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin u7R8iKztM7Frlu8oBr3i5gYX8zg31rE4z3NQKZQlaPk="],"Authorization-Date":["2021-05-06 15:09:17"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/login"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c1221bcef4563f548004"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0516982},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:09:16","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:80","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY `authorized`.`id` LIMIT 1","rows_affected":1,"cost_seconds":0.0223068},{"timestamp":"2021-05-06 15:09:16","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/authorized_api_repo/gen_authorized_api.go:98","sql":"SELECT * FROM `authorized_api` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY id DESC ","rows_affected":5,"cost_seconds":0.0034721},{"timestamp":"2021-05-06 15:09:16","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0018675}],"redis":[{"timestamp":"2021-05-06 15:09:16","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0218965},{"timestamp":"2021-05-06 15:09:16","handle":"set","key":"go-gin-api:authorized:admin","value":"{\"key\":\"admin\",\"secret\":\"12878dd962115106db6d\",\"is_used\":1,\"apis\":[{\"method\":\"PATCH\",\"api\":\"/api/**\"},{\"method\":\"DELETE\",\"api\":\"/api/**\"},{\"method\":\"PUT\",\"api\":\"/api/**\"},{\"method\":\"POST\",\"api\":\"/api/**\"},{\"method\":\"GET\",\"api\":\"/api/**\"}]}","ttl":1440,"cost_seconds":0.0009075},{"timestamp":"2021-05-06 15:09:16","handle":"set","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","value":"{\"Id\":1,\"Username\":\"admin\",\"Password\":\"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0\",\"Nickname\":\"管理员\",\"Mobile\":\"13888888888\",\"IsUsed\":1,\"IsDeleted\":-1,\"CreatedAt\":\"2021-05-06T15:08:05+08:00\",\"CreatedUser\":\"init\",\"UpdatedAt\":\"2021-05-06T15:08:05+08:00\",\"UpdatedUser\":\"\"}","ttl":1440,"cost_seconds":0.0005387}],"grpc":null,"success":true,"cost_seconds":0.0516985}}
{"level":"info","time":"2021-05-06 15:09:17","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0066618,"trace_id":"eafe24c01c2f2d0849d1","trace_info":{"trace_id":"eafe24c01c2f2d0849d1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin bwfknbhHzeVruMDlEgTs0ugMk4dwzwQOY0p6PSMk4NM="],"Authorization-Date":["2021-05-06 15:09:17"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eafe24c01c2f2d0849d1"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0066613},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:09:17","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0030067}],"redis":[{"timestamp":"2021-05-06 15:09:17","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0013835},{"timestamp":"2021-05-06 15:09:17","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0010195}],"grpc":null,"success":true,"cost_seconds":0.0066618}}
{"level":"info","time":"2021-05-06 15:09:17","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0023961,"trace_id":"f9d86385f323a03f762d","trace_info":{"trace_id":"f9d86385f323a03f762d","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Z7o1APQYmMXl8x8jzIHhaYBHW+LiOpUo6tlq6dUAHRs="],"Authorization-Date":["2021-05-06 15:09:18"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f9d86385f323a03f762d"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0023955},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:09:17","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0006794},{"timestamp":"2021-05-06 15:09:17","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0006204}],"grpc":null,"success":true,"cost_seconds":0.0023961}}
{"level":"info","time":"2021-05-06 15:09:17","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0044698,"trace_id":"8e6c00be4ef8140eb637","trace_info":{"trace_id":"8e6c00be4ef8140eb637","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin vWeKAOo5u1iOzIJUs+7O1PyVN9AuveL/hgdPgVqAKXs="],"Authorization-Date":["2021-05-06 15:09:18"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8e6c00be4ef8140eb637"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0044695},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:09:17","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009696},{"timestamp":"2021-05-06 15:09:17","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0006063}],"grpc":null,"success":true,"cost_seconds":0.0044698}}
{"level":"info","time":"2021-05-06 15:09:23","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/mysql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0052386,"trace_id":"e724090dab11c6c43284","trace_info":{"trace_id":"e724090dab11c6c43284","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/mysql","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin +TtVtofTWGlP+JbmfGf6sXohBOgM9c4VXNpNbCcuXlc="],"Authorization-Date":["2021-05-06 15:09:24"],"Connection":["keep-alive"],"Content-Length":["81"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api&table_name=admin&sql=SELECT+*+FROM+%60admin%60+ORDER+BY+1+DESC"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e724090dab11c6c43284"],"Vary":["Origin"]},"body":{"cols":["id","username","password","nickname","mobile","is_used","is_deleted","created_at","created_user","updated_at","updated_user"],"cols_info":[{"column_name":"id","column_comment":"主键"},{"column_name":"username","column_comment":"用户名"},{"column_name":"password","column_comment":"密码"},{"column_name":"nickname","column_comment":"昵称"},{"column_name":"mobile","column_comment":"手机号"},{"column_name":"is_used","column_comment":"是否启用 1:是  -1:否"},{"column_name":"is_deleted","column_comment":"是否删除 1:是  -1:否"},{"column_name":"created_at","column_comment":"创建时间"},{"column_name":"created_user","column_comment":"创建人"},{"column_name":"updated_at","column_comment":"更新时间"},{"column_name":"updated_user","column_comment":"更新人"}],"list":[{"created_at":"2021-05-06 15:08:05 +0800 CST","created_user":"init","id":"1","is_deleted":"-1","is_used":"1","mobile":"13888888888","nickname":"管理员","password":"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0","updated_at":"2021-05-06 15:08:05 +0800 CST","updated_user":"","username":"admin"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0052382},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:09:23","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0006176},{"timestamp":"2021-05-06 15:09:23","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000569}],"grpc":null,"success":true,"cost_seconds":0.0052386}}
{"level":"info","time":"2021-05-06 15:09:32","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0028154,"trace_id":"11c3e5535cf22ecaa24b","trace_info":{"trace_id":"11c3e5535cf22ecaa24b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin jbphonLGZIOZSH2GsJlx/dTfYzXFQRZGObagr8hAm9M="],"Authorization-Date":["2021-05-06 15:09:33"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["11c3e5535cf22ecaa24b"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0028149},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:09:32","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008628},{"timestamp":"2021-05-06 15:09:32","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0006949}],"grpc":null,"success":true,"cost_seconds":0.0028154}}
{"level":"info","time":"2021-05-06 15:09:32","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0045609,"trace_id":"206feba90dc057839cdc","trace_info":{"trace_id":"206feba90dc057839cdc","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 62SLuHAw6yewEMzeJ9pZnV5pY9Mx+fMrz9zcmuTEjXQ="],"Authorization-Date":["2021-05-06 15:09:33"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["206feba90dc057839cdc"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0045604},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:09:32","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008278},{"timestamp":"2021-05-06 15:09:32","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0010509}],"grpc":null,"success":true,"cost_seconds":0.0045609}}
{"level":"info","time":"2021-05-06 15:09:38","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/mysql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0065401,"trace_id":"9df29e565262fb21e9e5","trace_info":{"trace_id":"9df29e565262fb21e9e5","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/mysql","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin oF2Im3wnhvDC0PCS2si8ZCcYtOmGAYaMBxWNePd3sJw="],"Authorization-Date":["2021-05-06 15:09:39"],"Connection":["keep-alive"],"Content-Length":["70"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api&table_name=admin&sql=SHOW+CREATE+TABLE+%60admin%60+"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9df29e565262fb21e9e5"],"Vary":["Origin"]},"body":{"cols":["Table","Create Table"],"cols_info":[{"column_name":"id","column_comment":"主键"},{"column_name":"username","column_comment":"用户名"},{"column_name":"password","column_comment":"密码"},{"column_name":"nickname","column_comment":"昵称"},{"column_name":"mobile","column_comment":"手机号"},{"column_name":"is_used","column_comment":"是否启用 1:是  -1:否"},{"column_name":"is_deleted","column_comment":"是否删除 1:是  -1:否"},{"column_name":"created_at","column_comment":"创建时间"},{"column_name":"created_user","column_comment":"创建人"},{"column_name":"updated_at","column_comment":"更新时间"},{"column_name":"updated_user","column_comment":"更新人"}],"list":[{"Create Table":"CREATE TABLE `admin` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',\n  `username` varchar(32) NOT NULL DEFAULT '' COMMENT '用户名',\n  `password` varchar(100) NOT NULL DEFAULT '' COMMENT '密码',\n  `nickname` varchar(60) NOT NULL DEFAULT '' COMMENT '昵称',\n  `mobile` varchar(20) NOT NULL DEFAULT '' COMMENT '手机号',\n  `is_used` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否启用 1:是  -1:否',\n  `is_deleted` tinyint(1) NOT NULL DEFAULT '-1' COMMENT '是否删除 1:是  -1:否',\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `created_user` varchar(60) NOT NULL DEFAULT '' COMMENT '创建人',\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  `updated_user` varchar(60) NOT NULL DEFAULT '' COMMENT '更新人',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `unique_username` (`username`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT='管理员表'","Table":"admin"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0065398},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:09:38","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001107},{"timestamp":"2021-05-06 15:09:38","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0008319}],"grpc":null,"success":true,"cost_seconds":0.0065401}}
{"level":"info","time":"2021-05-06 15:09:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0033324,"trace_id":"593aa40f3154a76fa8c5","trace_info":{"trace_id":"593aa40f3154a76fa8c5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin W4KjYJZ7RUk8RPucPUWuVnm25cLSjUETu74ZGFpUlAU="],"Authorization-Date":["2021-05-06 15:09:46"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["593aa40f3154a76fa8c5"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.003332},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:09:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009558},{"timestamp":"2021-05-06 15:09:45","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000951}],"grpc":null,"success":true,"cost_seconds":0.0033324}}
{"level":"info","time":"2021-05-06 15:09:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0069785,"trace_id":"03be826fcf8ec8da05c0","trace_info":{"trace_id":"03be826fcf8ec8da05c0","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 7m7qgLrb1wW0wazfqhyZ3aR1MPbMOQ2kOKOQaQh22t8="],"Authorization-Date":["2021-05-06 15:09:46"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["03be826fcf8ec8da05c0"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0069781},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:09:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0019352},{"timestamp":"2021-05-06 15:09:45","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0011104}],"grpc":null,"success":true,"cost_seconds":0.0069785}}
{"level":"info","time":"2021-05-06 15:09:54","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0049418,"trace_id":"fb6837332841b1cc923f","trace_info":{"trace_id":"fb6837332841b1cc923f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin CI5N8I87Xd1NdWvFUjMTqTZRK5SDceWjNGnMp9FYpCw="],"Authorization-Date":["2021-05-06 15:09:55"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/admin/menu"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fb6837332841b1cc923f"],"Vary":["Origin"]},"body":{"list":[]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0049413},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:09:54","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0023315}],"redis":[{"timestamp":"2021-05-06 15:09:54","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0006669},{"timestamp":"2021-05-06 15:09:54","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0006828}],"grpc":null,"success":true,"cost_seconds":0.0049418}}
{"level":"info","time":"2021-05-06 15:13:33","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0245905,"trace_id":"b31cb73b110a76779635","trace_info":{"trace_id":"b31cb73b110a76779635","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 0ahHWTEYx+wnFjTUBri/Tipt9mcxVvNJxHB2XbKwLhQ="],"Authorization-Date":["2021-05-06 15:13:33"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fgormgen; _nav_title_=gormgen"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b31cb73b110a76779635"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0245901},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:13:33","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0033935}],"redis":[{"timestamp":"2021-05-06 15:13:33","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011736},{"timestamp":"2021-05-06 15:13:33","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0008257}],"grpc":null,"success":true,"cost_seconds":0.0245905}}
{"level":"info","time":"2021-05-06 15:43:22","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 15:43:22","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 15:43:22","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 15:43:22","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 15:47:24","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0001962,"trace_id":"513bac95dd64da3a98a7","trace_info":{"trace_id":"513bac95dd64da3a98a7","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Connection":["keep-alive"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fhandlergen; _nav_title_=handlergen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["document"],"Sec-Fetch-Mode":["navigate"],"Sec-Fetch-Site":["none"],"Sec-Fetch-User":["?1"],"Upgrade-Insecure-Requests":["1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["513bac95dd64da3a98a7"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"签名信息有误","Err":{}},"business_code":10104,"business_code_msg":"签名信息有误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0001958},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.0001962},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/data/www/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/data/www/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374"}
{"level":"info","time":"2021-05-06 15:47:49","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.047457,"trace_id":"ff5c5cd6c56c17a1e903","trace_info":{"trace_id":"ff5c5cd6c56c17a1e903","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Authorization-Date":["2021-05-06 15:47:49"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fhandlergen; _nav_title_=handlergen"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ff5c5cd6c56c17a1e903"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0474565},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:47:49","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0100091}],"redis":[{"timestamp":"2021-05-06 15:47:49","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0015084},{"timestamp":"2021-05-06 15:47:49","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.0014293}],"grpc":null,"success":true,"cost_seconds":0.047457}}
{"level":"info","time":"2021-05-06 15:48:21","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":400,"business_code":10109,"success":false,"cost_seconds":0.0018168,"trace_id":"747f9fa8ab00fdcf5efb","trace_info":{"trace_id":"747f9fa8ab00fdcf5efb","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["4b71f2d8-7d6f-46fd-8f98-424ebb26cf08"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["747f9fa8ab00fdcf5efb"],"Vary":["Origin"]},"body":{"HttpCode":400,"BusinessCode":10109,"Message":"Signature Error","Err":{}},"business_code":10109,"business_code_msg":"Signature Error","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.0018162},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:48:21","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000665}],"grpc":null,"success":false,"cost_seconds":0.0018168},"error":"Header 中缺少 Authorization 参数","errorVerbose":"Header 中缺少 Authorization 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Signature.func1\n\t/data/www/go-gin-api/internal/router/middleware/middle_signature.go:31\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/data/www/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Signature.func1\n\t/data/www/go-gin-api/internal/router/middleware/middle_signature.go:31\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374"}
{"level":"info","time":"2021-05-06 15:48:51","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":400,"business_code":10109,"success":false,"cost_seconds":0.0030225,"trace_id":"c51316acd315a1e446b2","trace_info":{"trace_id":"c51316acd315a1e446b2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["2673f92c-6092-4e7e-9865-4ee577f43ce6"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c51316acd315a1e446b2"],"Vary":["Origin"]},"body":{"HttpCode":400,"BusinessCode":10109,"Message":"Signature Error","Err":{}},"business_code":10109,"business_code_msg":"Signature Error","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.0030222},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 15:48:51","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010687}],"grpc":null,"success":false,"cost_seconds":0.0030225},"error":"Header 中缺少 Date 参数","errorVerbose":"Header 中缺少 Date 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Signature.func1\n\t/data/www/go-gin-api/internal/router/middleware/middle_signature.go:42\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/data/www/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Signature.func1\n\t/data/www/go-gin-api/internal/router/middleware/middle_signature.go:42\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/lib/golang/src/net/http/server.go:2843\nnet/http.(*conn).serve\n\t/usr/lib/golang/src/net/http/server.go:1925\nruntime.goexit\n\t/usr/lib/golang/src/runtime/asm_amd64.s:1374"}
{"level":"info","time":"2021-05-06 15:55:13","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 15:55:13","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 15:55:13","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 15:55:13","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 15:55:54","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.007786,"trace_id":"b4900d878c7b2aa7bf67","trace_info":{"trace_id":"b4900d878c7b2aa7bf67","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin tg0sVcn65BPPtbD/D7615+sAXcoHGS5JlQWCUAjx/Ho="],"Authorization-Date":["2021-05-06 15:55:55"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fhandlergen; _nav_title_=handlergen"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b4900d878c7b2aa7bf67"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0077856},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:55:54","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005646}],"redis":[{"timestamp":"2021-05-06 15:55:54","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007821}],"grpc":null,"success":true,"cost_seconds":0.007786}}
{"level":"info","time":"2021-05-06 15:56:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0050638,"trace_id":"a8b6a113af0b3992115a","trace_info":{"trace_id":"a8b6a113af0b3992115a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["3e0547c1-9399-4509-8c69-378f1c55d2b0"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a8b6a113af0b3992115a"],"Vary":["Origin"]},"body":{"list":[]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0050633},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:56:45","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0032692}],"redis":[{"timestamp":"2021-05-06 15:56:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0006725}],"grpc":null,"success":true,"cost_seconds":0.0050638}}
{"level":"info","time":"2021-05-06 15:57:11","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0038712,"trace_id":"adb0806988b10215ae62","trace_info":{"trace_id":"adb0806988b10215ae62","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["f50c3274-a03a-4800-a21a-977246ecd119"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["adb0806988b10215ae62"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0038709},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:57:11","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0016573}],"redis":[{"timestamp":"2021-05-06 15:57:11","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000818}],"grpc":null,"success":true,"cost_seconds":0.0038712}}
{"level":"info","time":"2021-05-06 15:58:26","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu?pid=1","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0325613,"trace_id":"cd92dd3c22202a20f497","trace_info":{"trace_id":"cd92dd3c22202a20f497","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu?pid=1","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["1f6c60d9-adb3-4d17-9730-cc499cacc06e"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cd92dd3c22202a20f497"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"123","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0325611},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:58:26","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0020344}],"redis":[{"timestamp":"2021-05-06 15:58:26","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007715}],"grpc":null,"success":true,"cost_seconds":0.0325613}}
{"level":"info","time":"2021-05-06 15:58:35","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0051914,"trace_id":"04b277f8ab8219dacf5b","trace_info":{"trace_id":"04b277f8ab8219dacf5b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["a76181ed-244e-4472-84a0-abf2efdfc5a4"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["04b277f8ab8219dacf5b"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"123","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0051911},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:58:35","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0029596}],"redis":[{"timestamp":"2021-05-06 15:58:35","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009422}],"grpc":null,"success":true,"cost_seconds":0.0051914}}
{"level":"info","time":"2021-05-06 15:58:52","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu?name=567","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0040555,"trace_id":"89c3ca0ff09ff7d4cc72","trace_info":{"trace_id":"89c3ca0ff09ff7d4cc72","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu?name=567","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["4475b65a-0f0b-4548-aebb-cbe4416f655a"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["89c3ca0ff09ff7d4cc72"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0040551},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:58:52","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0019005}],"redis":[{"timestamp":"2021-05-06 15:58:52","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007683}],"grpc":null,"success":true,"cost_seconds":0.0040555}}
{"level":"info","time":"2021-05-06 15:59:53","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu?pid=1","http_code":200,"business_code":0,"success":true,"cost_seconds":0.004107,"trace_id":"40816faae837f7f78e13","trace_info":{"trace_id":"40816faae837f7f78e13","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu?pid=1","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["20f7918c-587e-4ed6-99fd-4a58e3b030ce"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["40816faae837f7f78e13"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0041068},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:59:53","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0018181}],"redis":[{"timestamp":"2021-05-06 15:59:53","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008031}],"grpc":null,"success":true,"cost_seconds":0.004107}}
{"level":"info","time":"2021-05-06 15:59:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu?pid=2","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0065315,"trace_id":"5047c0c7d8915044d17a","trace_info":{"trace_id":"5047c0c7d8915044d17a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu?pid=2","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Authorization":["admin hB3FvD/60hq2Fe6DnDuPBKlEzc13e8g+OWatMig+Ufs="],"Cache-Control":["no-cache"],"Connection":["keep-alive"],"Cookie":["checkouts=f42b5bf066edece29229f0244567adb1"],"Postman-Token":["cc066b90-2710-48cc-b702-13b8eff2fe6a"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["PostmanRuntime/7.28.0"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5047c0c7d8915044d17a"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0065313},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 15:59:56","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0031614}],"redis":[{"timestamp":"2021-05-06 15:59:56","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0019653}],"grpc":null,"success":true,"cost_seconds":0.0065315}}
{"level":"info","time":"2021-05-06 16:07:15","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0284718,"trace_id":"565a0735e1603bac84f6","trace_info":{"trace_id":"565a0735e1603bac84f6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin hrgRF2VJRDzwqzg8EoP/Dpqi+ZfIZuKAVuJCegrz4Ag="],"Authorization-Date":["2021-05-06 16:07:15"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fhandlergen; _nav_title_=handlergen"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["565a0735e1603bac84f6"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0284709},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:07:15","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0038225}],"redis":[{"timestamp":"2021-05-06 16:07:15","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0014004}],"grpc":null,"success":true,"cost_seconds":0.0284718}}
{"level":"info","time":"2021-05-06 16:08:01","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0054552,"trace_id":"c75f474e5731a682a3a2","trace_info":{"trace_id":"c75f474e5731a682a3a2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin ZxHZQdUSOFFzBC3bN8P9rBNIvEZxjZJQrLGH0+RthXE="],"Authorization-Date":["2021-05-06 16:08:02"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/admin/menu"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c75f474e5731a682a3a2"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0054548},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:08:01","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0027175}],"redis":[{"timestamp":"2021-05-06 16:08:01","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009684}],"grpc":null,"success":true,"cost_seconds":0.0054552}}
{"level":"info","time":"2021-05-06 16:08:07","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0164145,"trace_id":"5babcaede6fe795099fe","trace_info":{"trace_id":"5babcaede6fe795099fe","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin SWx7JKBHEzzIhODaARLwa7oVNMO9I85Uu2jdtrxUY0k="],"Authorization-Date":["2021-05-06 16:08:07"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=%E7%AE%A1%E7%90%86%E5%91%98"],"Referer":["http://127.0.0.1:10002/admin/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5babcaede6fe795099fe"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"created_at":"2021-05-06 15:08:05","created_user":"init","updated_at":"2021-05-06 15:08:05","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.016414},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:08:07","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0033509},{"timestamp":"2021-05-06 16:08:07","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:71","sql":"SELECT count(1) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0106386}],"redis":[{"timestamp":"2021-05-06 16:08:07","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008825}],"grpc":null,"success":true,"cost_seconds":0.0164145}}
{"level":"info","time":"2021-05-06 16:08:09","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0039354,"trace_id":"15585171a1fff157d393","trace_info":{"trace_id":"15585171a1fff157d393","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin wR62yDXZ0KWl9S1vYvy/5tutfHhn/9zj1mgWN8EzSkU="],"Authorization-Date":["2021-05-06 16:08:10"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/admin/menu"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["15585171a1fff157d393"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0039351},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:08:09","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0018398}],"redis":[{"timestamp":"2021-05-06 16:08:09","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009042}],"grpc":null,"success":true,"cost_seconds":0.0039354}}
{"level":"info","time":"2021-05-06 16:08:18","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0414684,"trace_id":"6a89f81845c2a3b63036","trace_info":{"trace_id":"6a89f81845c2a3b63036","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 9h4kSkGCeqovTZ2IKzWF2GYHz7lnBNrz2UoF/imKito="],"Authorization-Date":["2021-05-06 16:08:18"],"Connection":["keep-alive"],"Content-Length":["40"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/admin/menu"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"level=-1&name=test&icon=123&link=123&id="},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6a89f81845c2a3b63036"],"Vary":["Origin"]},"body":{"id":3},"http_code":200,"http_code_msg":"OK","cost_seconds":0.041468},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:08:18","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:27","sql":"INSERT INTO `menu` (`pid`,`name`,`link`,`icon`,`level`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES (0,'test','123','123',1,1,-1,'2021-05-06 16:08:18.287','admin','2021-05-06 16:08:18.287','')","rows_affected":1,"cost_seconds":0.0309477}],"redis":[{"timestamp":"2021-05-06 16:08:18","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008405}],"grpc":null,"success":true,"cost_seconds":0.0414684}}
{"level":"info","time":"2021-05-06 16:08:19","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0041979,"trace_id":"861e08e7607757c6ae89","trace_info":{"trace_id":"861e08e7607757c6ae89","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 7ZvVWsh4yj99xaNsV9poa2cCe5LWXGo5GaHgQDgRJx0="],"Authorization-Date":["2021-05-06 16:08:20"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/admin/menu"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["861e08e7607757c6ae89"],"Vary":["Origin"]},"body":{"list":[{"id":3,"hashid":"JRzOELW6M82Z","pid":0,"name":"test","link":"123","icon":"123","is_used":1},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0041976},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:08:19","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":3,"cost_seconds":0.0019552}],"redis":[{"timestamp":"2021-05-06 16:08:19","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008509}],"grpc":null,"success":true,"cost_seconds":0.0041979}}
{"level":"info","time":"2021-05-06 16:08:23","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0079744,"trace_id":"74d133f9f6980241af99","trace_info":{"trace_id":"74d133f9f6980241af99","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin abmnfgfLTB+GWGTotpIItswjQ08rzVdTNzzM2M+leyg="],"Authorization-Date":["2021-05-06 16:08:24"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["74d133f9f6980241af99"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.007974},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:08:23","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0035231}],"redis":[{"timestamp":"2021-05-06 16:08:23","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0033291}],"grpc":null,"success":true,"cost_seconds":0.0079744}}
{"level":"info","time":"2021-05-06 16:08:24","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0041534,"trace_id":"2d2a38e66dc79edec275","trace_info":{"trace_id":"2d2a38e66dc79edec275","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin kzLRURfG9tITUOvROn4/0OTYUV9128+rgRzCOEtL90U="],"Authorization-Date":["2021-05-06 16:08:24"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/admin/menu"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2d2a38e66dc79edec275"],"Vary":["Origin"]},"body":{"list":[{"id":3,"hashid":"JRzOELW6M82Z","pid":0,"name":"test","link":"123","icon":"123","is_used":1},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0041531},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:08:24","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":3,"cost_seconds":0.0020535}],"redis":[{"timestamp":"2021-05-06 16:08:24","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008683}],"grpc":null,"success":true,"cost_seconds":0.0041534}}
{"level":"fatal","time":"2021-05-06 16:29:02","caller":"go-gin-api/main.go:56","msg":"http server startup err","domain":"go-gin-api[fat]","error":"listen tcp :9999: bind: address already in use"}
{"level":"info","time":"2021-05-06 16:29:14","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0338233,"trace_id":"b4c71d43a9af1e93d3d5","trace_info":{"trace_id":"b4c71d43a9af1e93d3d5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin wBEbqrDxP4LIu+JtfJGsjk33PS3RxtKRdlZXlDBt/IA="],"Authorization-Date":["2021-05-06 16:29:14"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b4c71d43a9af1e93d3d5"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0338229},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:29:14","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.010332}],"redis":[{"timestamp":"2021-05-06 16:29:14","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008551}],"grpc":null,"success":true,"cost_seconds":0.0338233}}
{"level":"info","time":"2021-05-06 16:29:14","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.004049,"trace_id":"3296ef3f8eee3a6517e0","trace_info":{"trace_id":"3296ef3f8eee3a6517e0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin NLth1NSfz74B/Luf3dzIoh2LtmnGDRFFv1varXxFa1k="],"Authorization-Date":["2021-05-06 16:29:15"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/admin/menu"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3296ef3f8eee3a6517e0"],"Vary":["Origin"]},"body":{"list":[{"id":3,"hashid":"JRzOELW6M82Z","pid":0,"name":"test","link":"123","icon":"123","is_used":1},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0040487},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:29:14","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":3,"cost_seconds":0.0022419}],"redis":[{"timestamp":"2021-05-06 16:29:14","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000735}],"grpc":null,"success":true,"cost_seconds":0.004049}}
{"level":"info","time":"2021-05-06 16:48:58","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0468129,"trace_id":"08762329605ded2aa77c","trace_info":{"trace_id":"08762329605ded2aa77c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin U9RP/SY+HHHJvtDv0GBC//qR1wbsTynsnx3AMQGabXs="],"Authorization-Date":["2021-05-06 16:48:59"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fauthorized%2Flist; _nav_title_=%E8%B0%83%E7%94%A8%E6%96%B9"],"Referer":["http://127.0.0.1:10002/authorized/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["08762329605ded2aa77c"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2021-05-06 15:08:04","created_user":"init","updated_at":"2021-05-06 15:08:04","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0467988},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:48:58","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:98","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0091952},{"timestamp":"2021-05-06 16:48:58","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:71","sql":"SELECT count(1) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.001324}],"redis":[{"timestamp":"2021-05-06 16:48:58","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.002219}],"grpc":null,"success":true,"cost_seconds":0.0468129}}
{"level":"info","time":"2021-05-06 16:49:02","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0088633,"trace_id":"7561ed5f143ed4003c9f","trace_info":{"trace_id":"7561ed5f143ed4003c9f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin CmKWCy5HKteInFcpBJNR9i+qeazPg2WTRDWuf4tQTNg="],"Authorization-Date":["2021-05-06 16:49:03"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=%E7%AE%A1%E7%90%86%E5%91%98"],"Referer":["http://127.0.0.1:10002/admin/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7561ed5f143ed4003c9f"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"created_at":"2021-05-06 15:08:05","created_user":"init","updated_at":"2021-05-06 15:08:05","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0088627},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 16:49:02","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0027966},{"timestamp":"2021-05-06 16:49:02","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:71","sql":"SELECT count(1) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0016192}],"redis":[{"timestamp":"2021-05-06 16:49:02","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009914}],"grpc":null,"success":true,"cost_seconds":0.0088633}}
{"level":"info","time":"2021-05-06 16:49:07","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0028655,"trace_id":"e4ad4dda232045f25f51","trace_info":{"trace_id":"e4ad4dda232045f25f51","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin nEioOlczxVF73/3rI8ZF01gQF7RJPfUkIEbT6dmzpuY="],"Authorization-Date":["2021-05-06 16:49:08"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e4ad4dda232045f25f51"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0028648},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 16:49:07","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009037}],"grpc":null,"success":true,"cost_seconds":0.0028655}}
{"level":"info","time":"2021-05-06 16:49:07","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0041788,"trace_id":"b89e785706815765b7b2","trace_info":{"trace_id":"b89e785706815765b7b2","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin cI+ceoJRyF+GYJ79GlgbXSV1KXZaPgV11TsZG3sLapY="],"Authorization-Date":["2021-05-06 16:49:08"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b89e785706815765b7b2"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0041782},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 16:49:07","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011826}],"grpc":null,"success":true,"cost_seconds":0.0041788}}
{"level":"info","time":"2021-05-06 16:51:18","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/graphql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0006502,"trace_id":"12545bd18d3b46ffc77c","trace_info":{"trace_id":"12545bd18d3b46ffc77c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/graphql","header":{"Accept":["text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Connection":["keep-alive"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Flogs; _nav_title_=%E8%B0%83%E7%94%A8%E6%97%A5%E5%BF%97"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["document"],"Sec-Fetch-Mode":["navigate"],"Sec-Fetch-Site":["same-origin"],"Sec-Fetch-User":["?1"],"Upgrade-Insecure-Requests":["1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"]},"body":""},"response":{"header":{"Content-Type":["text/html"],"Vary":["Origin"]},"body":null,"http_code":200,"http_code_msg":"OK","cost_seconds":0.0006494},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":true,"cost_seconds":0.0006502}}
{"level":"info","time":"2021-05-06 16:51:27","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/graphql/query","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0033789,"trace_id":"ac9928e99e85caf05be2","trace_info":{"trace_id":"ac9928e99e85caf05be2","request":{"ttl":"un-limit","method":"POST","decoded_url":"/graphql/query","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Connection":["keep-alive"],"Content-Length":["1468"],"Content-Type":["application/json"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Flogs; _nav_title_=%E8%B0%83%E7%94%A8%E6%97%A5%E5%BF%97"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/graphql"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Apollo-Tracing":["1"]},"body":"{\"operationName\":\"IntrospectionQuery\",\"variables\":{},\"query\":\"query IntrospectionQuery {\\n  __schema {\\n    queryType {\\n      name\\n    }\\n    mutationType {\\n      name\\n    }\\n    subscriptionType {\\n      name\\n    }\\n    types {\\n      ...FullType\\n    }\\n    directives {\\n      name\\n      description\\n      locations\\n      args {\\n        ...InputValue\\n      }\\n    }\\n  }\\n}\\n\\nfragment FullType on __Type {\\n  kind\\n  name\\n  description\\n  fields(includeDeprecated: true) {\\n    name\\n    description\\n    args {\\n      ...InputValue\\n    }\\n    type {\\n      ...TypeRef\\n    }\\n    isDeprecated\\n    deprecationReason\\n  }\\n  inputFields {\\n    ...InputValue\\n  }\\n  interfaces {\\n    ...TypeRef\\n  }\\n  enumValues(includeDeprecated: true) {\\n    name\\n    description\\n    isDeprecated\\n    deprecationReason\\n  }\\n  possibleTypes {\\n    ...TypeRef\\n  }\\n}\\n\\nfragment InputValue on __InputValue {\\n  name\\n  description\\n  type {\\n    ...TypeRef\\n  }\\n  defaultValue\\n}\\n\\nfragment TypeRef on __Type {\\n  kind\\n  name\\n  ofType {\\n    kind\\n    name\\n    ofType {\\n      kind\\n      name\\n      ofType {\\n        kind\\n        name\\n        ofType {\\n          kind\\n          name\\n          ofType {\\n            kind\\n            name\\n            ofType {\\n              kind\\n              name\\n              ofType {\\n                kind\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"}"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json"],"Vary":["Origin"]},"body":{"data":{"__schema":{"queryType":{"name":"Query"},"mutationType":{"name":"Mutation"},"subscriptionType":null,"types":[{"kind":"OBJECT","name":"Mutation","description":"","fields":[{"name":"updateUserMobile","description":"","args":[{"name":"data","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","ofType":null}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"User","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"User","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"sex","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mobile","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Query","description":"","fields":[{"name":"bySex","description":"","args":[{"name":"sex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"User","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Int","description":"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Float","description":"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point).","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","description":"","fields":[],"inputFields":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"mobile","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"String","description":"The `String`scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Boolean","description":"The `Boolean` scalar type represents `true` or `false`.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"ID","description":"The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as \"4\") or integer (such as 4) input value will be accepted as an ID.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]}],"directives":[{"name":"include","description":"The @include directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional inclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"skip","description":"The @skip directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional exclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"deprecated","description":"The @deprecated directive is used within the type system definition language to indicate deprecated portions of a GraphQL service’s schema, such as deprecated fields on a type or deprecated enum values.","locations":["FIELD_DEFINITION","ENUM_VALUE"],"args":[{"name":"reason","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":"\"No longer supported\""}]}]}},"extensions":{"trace_id":"ac9928e99e85caf05be2"}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0033781},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":true,"cost_seconds":0.0033789}}
{"level":"info","time":"2021-05-06 16:51:27","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/graphql/query","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0006269,"trace_id":"bc710b1c2db32f9faa5d","trace_info":{"trace_id":"bc710b1c2db32f9faa5d","request":{"ttl":"un-limit","method":"POST","decoded_url":"/graphql/query","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Connection":["keep-alive"],"Content-Length":["1468"],"Content-Type":["application/json"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Flogs; _nav_title_=%E8%B0%83%E7%94%A8%E6%97%A5%E5%BF%97"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/graphql"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Apollo-Tracing":["1"]},"body":"{\"operationName\":\"IntrospectionQuery\",\"variables\":{},\"query\":\"query IntrospectionQuery {\\n  __schema {\\n    queryType {\\n      name\\n    }\\n    mutationType {\\n      name\\n    }\\n    subscriptionType {\\n      name\\n    }\\n    types {\\n      ...FullType\\n    }\\n    directives {\\n      name\\n      description\\n      locations\\n      args {\\n        ...InputValue\\n      }\\n    }\\n  }\\n}\\n\\nfragment FullType on __Type {\\n  kind\\n  name\\n  description\\n  fields(includeDeprecated: true) {\\n    name\\n    description\\n    args {\\n      ...InputValue\\n    }\\n    type {\\n      ...TypeRef\\n    }\\n    isDeprecated\\n    deprecationReason\\n  }\\n  inputFields {\\n    ...InputValue\\n  }\\n  interfaces {\\n    ...TypeRef\\n  }\\n  enumValues(includeDeprecated: true) {\\n    name\\n    description\\n    isDeprecated\\n    deprecationReason\\n  }\\n  possibleTypes {\\n    ...TypeRef\\n  }\\n}\\n\\nfragment InputValue on __InputValue {\\n  name\\n  description\\n  type {\\n    ...TypeRef\\n  }\\n  defaultValue\\n}\\n\\nfragment TypeRef on __Type {\\n  kind\\n  name\\n  ofType {\\n    kind\\n    name\\n    ofType {\\n      kind\\n      name\\n      ofType {\\n        kind\\n        name\\n        ofType {\\n          kind\\n          name\\n          ofType {\\n            kind\\n            name\\n            ofType {\\n              kind\\n              name\\n              ofType {\\n                kind\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"}"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json"],"Vary":["Origin"]},"body":{"data":{"__schema":{"queryType":{"name":"Query"},"mutationType":{"name":"Mutation"},"subscriptionType":null,"types":[{"kind":"SCALAR","name":"Boolean","description":"The `Boolean` scalar type represents `true` or `false`.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"ID","description":"The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as \"4\") or integer (such as 4) input value will be accepted as an ID.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Mutation","description":"","fields":[{"name":"updateUserMobile","description":"","args":[{"name":"data","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","ofType":null}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"User","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Int","description":"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Float","description":"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point).","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"User","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"sex","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mobile","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Query","description":"","fields":[{"name":"bySex","description":"","args":[{"name":"sex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"User","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"String","description":"The `String`scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","description":"","fields":[],"inputFields":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"mobile","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"interfaces":[],"enumValues":[],"possibleTypes":[]}],"directives":[{"name":"include","description":"The @include directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional inclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"skip","description":"The @skip directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional exclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"deprecated","description":"The @deprecated directive is used within the type system definition language to indicate deprecated portions of a GraphQL service’s schema, such as deprecated fields on a type or deprecated enum values.","locations":["FIELD_DEFINITION","ENUM_VALUE"],"args":[{"name":"reason","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":"\"No longer supported\""}]}]}},"extensions":{"trace_id":"bc710b1c2db32f9faa5d"}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0006261},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":true,"cost_seconds":0.0006269}}
{"level":"info","time":"2021-05-06 16:51:48","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/hashids/encode/123123","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0377558,"trace_id":"d4c80eeb65a5dfcd7abc","trace_info":{"trace_id":"d4c80eeb65a5dfcd7abc","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/hashids/encode/123123","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin PGk4PDIcqqjlxmaEkxGJv+YPWpr0989e2E9MnSvxj2U="],"Authorization-Date":["2021-05-06 16:51:49"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fhashids; _nav_title_=Hashids"],"Referer":["http://127.0.0.1:10002/tool/hashids"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d4c80eeb65a5dfcd7abc"],"Vary":["Origin"]},"body":{"val":"WKd6Kr3GbwvN"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0377555},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 16:51:48","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010203}],"grpc":null,"success":true,"cost_seconds":0.0377558}}
{"level":"info","time":"2021-05-06 16:54:42","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0040905,"trace_id":"587709f34c63347d7212","trace_info":{"trace_id":"587709f34c63347d7212","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin CIKH6FjZ2CwFlFf7bIhzMZZx5B02C9clPZ3jf+a6xOw="],"Authorization-Date":["2021-05-06 16:54:43"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["587709f34c63347d7212"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0040899},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 16:54:42","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009499}],"grpc":null,"success":true,"cost_seconds":0.0040905}}
{"level":"info","time":"2021-05-06 16:54:42","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0101914,"trace_id":"3d14915cb7b6c7c8ae70","trace_info":{"trace_id":"3d14915cb7b6c7c8ae70","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin hWegwrr/nlZMzU3iFl6p6ggq5gNfMJ79rK/rCg33wXc="],"Authorization-Date":["2021-05-06 16:54:43"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3d14915cb7b6c7c8ae70"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0101911},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 16:54:42","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010265}],"grpc":null,"success":true,"cost_seconds":0.0101914}}
{"level":"info","time":"2021-05-06 17:00:37","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0142753,"trace_id":"b5e890bdf8432525adbf","trace_info":{"trace_id":"b5e890bdf8432525adbf","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin UkbGMeZiH47N169ankaZKdV3f9UZqVnpcqkEBI2nJO4="],"Authorization-Date":["2021-05-06 17:00:38"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b5e890bdf8432525adbf"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0142747},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:00:37","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0100418}],"redis":[{"timestamp":"2021-05-06 17:00:37","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010878}],"grpc":null,"success":true,"cost_seconds":0.0142753}}
{"level":"info","time":"2021-05-06 17:00:38","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0020125,"trace_id":"423f6bf305647ea97e96","trace_info":{"trace_id":"423f6bf305647ea97e96","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin IlT9JU/4IDEWnq/R5w1GWZ7nn/2CPaDuxObErk7nzJw="],"Authorization-Date":["2021-05-06 17:00:38"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["423f6bf305647ea97e96"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0020121},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:00:38","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009138}],"grpc":null,"success":true,"cost_seconds":0.0020125}}
{"level":"info","time":"2021-05-06 17:00:38","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0055661,"trace_id":"890a55bd87fac820a0a3","trace_info":{"trace_id":"890a55bd87fac820a0a3","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin LRIrFG1qmJHsU2FJSJ2AHB3au3IalbmTf+4usN8XiWU="],"Authorization-Date":["2021-05-06 17:00:38"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["890a55bd87fac820a0a3"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0055657},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:00:38","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0021742}],"grpc":null,"success":true,"cost_seconds":0.0055661}}
{"level":"info","time":"2021-05-06 17:03:37","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0065908,"trace_id":"83148a80bd14791c81f8","trace_info":{"trace_id":"83148a80bd14791c81f8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin tencq4yZ1ANqNDH4tk3t7WeyWib13x2ru76m0zl3JsA="],"Authorization-Date":["2021-05-06 17:03:37"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["83148a80bd14791c81f8"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0065904},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:03:37","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0040221}],"redis":[{"timestamp":"2021-05-06 17:03:37","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.001083}],"grpc":null,"success":true,"cost_seconds":0.0065908}}
{"level":"info","time":"2021-05-06 17:03:37","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0020751,"trace_id":"a09e498af96219a19190","trace_info":{"trace_id":"a09e498af96219a19190","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin IDtv6J1+AdJEjuW0zfCAmIWyuGc+tS+oWWONccMh9Y8="],"Authorization-Date":["2021-05-06 17:03:38"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a09e498af96219a19190"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0020744},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:03:37","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007599}],"grpc":null,"success":true,"cost_seconds":0.0020751}}
{"level":"info","time":"2021-05-06 17:03:37","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0049669,"trace_id":"ea26f58f2c5496c68180","trace_info":{"trace_id":"ea26f58f2c5496c68180","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin DW1jyu/NwieTYxB0gPteb4LDs+UanWcZDJ3Xda4+QFA="],"Authorization-Date":["2021-05-06 17:03:38"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ea26f58f2c5496c68180"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0049666},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:03:37","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010109}],"grpc":null,"success":true,"cost_seconds":0.0049669}}
{"level":"info","time":"2021-05-06 17:09:33","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 17:09:33","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 17:09:33","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 17:09:33","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 17:09:42","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.015454,"trace_id":"e6683082573e4c610203","trace_info":{"trace_id":"e6683082573e4c610203","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 4MKEJqoQ4xq66fJavN9CsWO2urAOXCXSxOp1KEBDr1Y="],"Authorization-Date":["2021-05-06 17:09:43"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Flogs; _nav_title_=%E8%B0%83%E7%94%A8%E6%97%A5%E5%BF%97"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e6683082573e4c610203"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0154536},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:09:42","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0055083}],"redis":[{"timestamp":"2021-05-06 17:09:42","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0040453}],"grpc":null,"success":true,"cost_seconds":0.015454}}
{"level":"info","time":"2021-05-06 17:13:08","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 17:13:08","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 17:13:08","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 17:13:08","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 17:13:14","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0060075,"trace_id":"5192912880e1a29d9e2c","trace_info":{"trace_id":"5192912880e1a29d9e2c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin u6+glhI0vD/lvnNxpRTwzzkl3V5kDqCseGFzpnk6nhM="],"Authorization-Date":["2021-05-06 17:13:15"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5192912880e1a29d9e2c"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0060069},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:13:14","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0029109}],"redis":[{"timestamp":"2021-05-06 17:13:14","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0012644}],"grpc":null,"success":true,"cost_seconds":0.0060075}}
{"level":"info","time":"2021-05-06 17:13:15","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0019644,"trace_id":"8dcc6b82e670ba0a88a3","trace_info":{"trace_id":"8dcc6b82e670ba0a88a3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin lthFTMMvckRowIKaQY/MN9KMhWnduKg1k3BMuj3Mpz4="],"Authorization-Date":["2021-05-06 17:13:15"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8dcc6b82e670ba0a88a3"],"Vary":["Origin"]},"body":{"list":[{"db_name":"Test"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001964},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:13:15","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008462}],"grpc":null,"success":true,"cost_seconds":0.0019644}}
{"level":"info","time":"2021-05-06 17:13:15","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0043208,"trace_id":"5f0b79f44c53bb17c510","trace_info":{"trace_id":"5f0b79f44c53bb17c510","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin xahVklfKiZIktWH8OlosowHYdvpkNXiCZccPSiPRL5M="],"Authorization-Date":["2021-05-06 17:13:15"],"Connection":["keep-alive"],"Content-Length":["12"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=Test"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5f0b79f44c53bb17c510"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0043205},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:13:15","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011006}],"grpc":null,"success":true,"cost_seconds":0.0043208}}
{"level":"info","time":"2021-05-06 17:13:16","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0023209,"trace_id":"443ad07dc2af65d5fc8c","trace_info":{"trace_id":"443ad07dc2af65d5fc8c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Sf5kluvXSr7JJ2BqSGiKsVE1Xj0LqJoVi/d2nDmeTyg="],"Authorization-Date":["2021-05-06 17:13:17"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["443ad07dc2af65d5fc8c"],"Vary":["Origin"]},"body":{"list":[{"db_name":"Test"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0023203},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:13:16","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000835}],"grpc":null,"success":true,"cost_seconds":0.0023209}}
{"level":"info","time":"2021-05-06 17:13:16","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0037192,"trace_id":"c924137370f85cd88d13","trace_info":{"trace_id":"c924137370f85cd88d13","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin aoyq3rdjStPbJj7smlMCO6dYUSQsi2Lj4OjHCDme7wA="],"Authorization-Date":["2021-05-06 17:13:17"],"Connection":["keep-alive"],"Content-Length":["12"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=Test"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c924137370f85cd88d13"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0037185},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:13:16","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011118}],"grpc":null,"success":true,"cost_seconds":0.0037192}}
{"level":"info","time":"2021-05-06 17:36:38","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 17:36:38","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 17:36:38","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 17:36:38","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 17:36:54","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0062943,"trace_id":"56fe76fae29e52839e27","trace_info":{"trace_id":"56fe76fae29e52839e27","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin NoVQdGSDjl2fJeg3qELZ6mJE9TeFFCECwayrF/rQOEA="],"Authorization-Date":["2021-05-06 17:36:55"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fgormgen; _nav_title_=gormgen"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["56fe76fae29e52839e27"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0062935},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:36:54","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0041905}],"redis":[{"timestamp":"2021-05-06 17:36:54","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008896}],"grpc":null,"success":true,"cost_seconds":0.0062943}}
{"level":"info","time":"2021-05-06 17:36:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0119966,"trace_id":"fa6a337e6fb24d66f8cb","trace_info":{"trace_id":"fa6a337e6fb24d66f8cb","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin qzBipiJbMKH/3Bu5Bt5zB7/uW1p/9muYiZuiHK4OmRg="],"Authorization-Date":["2021-05-06 17:36:57"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fa6a337e6fb24d66f8cb"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go-gin-api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0119962},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:36:56","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0092479}],"redis":[{"timestamp":"2021-05-06 17:36:56","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010903}],"grpc":null,"success":true,"cost_seconds":0.0119966}}
{"level":"info","time":"2021-05-06 17:36:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.003995,"trace_id":"a8f9d8f0de84a5dfbf1f","trace_info":{"trace_id":"a8f9d8f0de84a5dfbf1f","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin x8LjLWOWlWec3pEzv4ih2+c1YtaMFVOg1irE0A9pA5Q="],"Authorization-Date":["2021-05-06 17:36:57"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go-gin-api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a8f9d8f0de84a5dfbf1f"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0039946},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:36:56","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0012523}],"grpc":null,"success":true,"cost_seconds":0.003995}}
{"level":"info","time":"2021-05-06 17:37:40","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0040566,"trace_id":"4e6ae4847c9910e35378","trace_info":{"trace_id":"4e6ae4847c9910e35378","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin arXI977I/rv550YufPvsPa71CPIPdkbH9Hsc/i+Au6c="],"Authorization-Date":["2021-05-06 17:37:40"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4e6ae4847c9910e35378"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split"},{"db_name":"go-gin-api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0040562},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:37:40","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0015921}],"redis":[{"timestamp":"2021-05-06 17:37:40","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010426}],"grpc":null,"success":true,"cost_seconds":0.0040566}}
{"level":"info","time":"2021-05-06 17:37:40","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0044315,"trace_id":"a6043394928aed8c1057","trace_info":{"trace_id":"a6043394928aed8c1057","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin A7Uq8WTgkbqRth2jxXuUQvLRt2QUSx27QQEjSLaQ0ho="],"Authorization-Date":["2021-05-06 17:37:40"],"Connection":["keep-alive"],"Content-Length":["22"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a6043394928aed8c1057"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.004431},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:37:40","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0016043}],"grpc":null,"success":true,"cost_seconds":0.0044315}}
{"level":"info","time":"2021-05-06 17:43:47","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0117697,"trace_id":"def14214b547330858ba","trace_info":{"trace_id":"def14214b547330858ba","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin WSRJSUobFzoE8I144u4A9KyjjnNLTrW9XJ/5087qpF0="],"Authorization-Date":["2021-05-06 17:43:47"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go-gin-api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["def14214b547330858ba"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0117693},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:43:47","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008484}],"grpc":null,"success":true,"cost_seconds":0.0117697}}
{"level":"info","time":"2021-05-06 17:43:51","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0259823,"trace_id":"f6e344b6c55e226a029a","trace_info":{"trace_id":"f6e344b6c55e226a029a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin z7NEL7RCQlpjEtzNRchaS2XWUWkrmna722ttUKukBE4="],"Authorization-Date":["2021-05-06 17:43:52"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f6e344b6c55e226a029a"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0259819},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:43:51","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0149559}],"grpc":null,"success":true,"cost_seconds":0.0259823}}
{"level":"info","time":"2021-05-06 17:43:51","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0035842,"trace_id":"5d51d5cdb3c66eea2309","trace_info":{"trace_id":"5d51d5cdb3c66eea2309","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin tlwbC7PpDT1Gf9+cEJpokQp0fHpSoRfq+QRryoyCoho="],"Authorization-Date":["2021-05-06 17:43:52"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5d51d5cdb3c66eea2309"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0035838},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:43:51","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008821}],"grpc":null,"success":true,"cost_seconds":0.0035842}}
{"level":"info","time":"2021-05-06 17:44:50","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0016722,"trace_id":"649b53c321f87d706914","trace_info":{"trace_id":"649b53c321f87d706914","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Q85wwznWZIVhydscx8NuKdzNvybUeIVQPVL4k63dNqs="],"Authorization-Date":["2021-05-06 17:44:51"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["649b53c321f87d706914"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0016715},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:44:50","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007244}],"grpc":null,"success":true,"cost_seconds":0.0016722}}
{"level":"info","time":"2021-05-06 17:44:50","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0042156,"trace_id":"2e093d047793d68342f4","trace_info":{"trace_id":"2e093d047793d68342f4","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 7GY9SV+nh3waT63U7rlkI8i1lznbb5S9V1uzTeHgUOY="],"Authorization-Date":["2021-05-06 17:44:51"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2e093d047793d68342f4"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0042152},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:44:50","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009406}],"grpc":null,"success":true,"cost_seconds":0.0042156}}
{"level":"info","time":"2021-05-06 17:46:08","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0593825,"trace_id":"b241cc37ec4ec2e6f7a0","trace_info":{"trace_id":"b241cc37ec4ec2e6f7a0","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin kbkRgQXN1r5xs+RrUny9lZCEMjgDUvKXfiww0QvIHYo="],"Authorization-Date":["2021-05-06 17:46:08"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b241cc37ec4ec2e6f7a0"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split"},{"db_name":"go-gin-api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0593819},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:46:08","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.010954}],"redis":[{"timestamp":"2021-05-06 17:46:07","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010597}],"grpc":null,"success":true,"cost_seconds":0.0593825}}
{"level":"info","time":"2021-05-06 17:46:08","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0045296,"trace_id":"8f4da65f1664336e07e7","trace_info":{"trace_id":"8f4da65f1664336e07e7","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Bg0dbuZGyJ6mQqZves/vJ2qzOE7oAUIEKygn1tllqEk="],"Authorization-Date":["2021-05-06 17:46:08"],"Connection":["keep-alive"],"Content-Length":["22"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8f4da65f1664336e07e7"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0045293},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:46:08","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008697}],"grpc":null,"success":true,"cost_seconds":0.0045296}}
{"level":"info","time":"2021-05-06 17:46:09","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0039013,"trace_id":"bc59ef7c347b7dfd03ae","trace_info":{"trace_id":"bc59ef7c347b7dfd03ae","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 6Wt3Fw5+BtVAKs0LqXB5tKv0Ihn9kCdr6Y7SgXqTCDw="],"Authorization-Date":["2021-05-06 17:46:10"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go-gin-api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["bc59ef7c347b7dfd03ae"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0039009},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:46:09","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011718}],"grpc":null,"success":true,"cost_seconds":0.0039013}}
{"level":"info","time":"2021-05-06 17:46:27","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 17:46:27","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 17:46:27","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 17:46:27","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 17:46:34","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0053556,"trace_id":"35578dfa1ab4db10c55b","trace_info":{"trace_id":"35578dfa1ab4db10c55b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin FLRyECnBWqu5acXOJzI9HaomeUGOHPwM1YX1M07NqAg="],"Authorization-Date":["2021-05-06 17:46:35"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["35578dfa1ab4db10c55b"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go-gin-api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0053553},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 17:46:34","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0030596}],"redis":[{"timestamp":"2021-05-06 17:46:34","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010996}],"grpc":null,"success":true,"cost_seconds":0.0053556}}
{"level":"info","time":"2021-05-06 17:46:34","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0039271,"trace_id":"3721f8ffc3092006fea8","trace_info":{"trace_id":"3721f8ffc3092006fea8","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin WzKknlsZOR/w/Isg4fmCuSNhBBSIEgjoTsFDBkikQxQ="],"Authorization-Date":["2021-05-06 17:46:35"],"Connection":["keep-alive"],"Content-Length":["22"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3721f8ffc3092006fea8"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0039264},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:46:34","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010917}],"grpc":null,"success":true,"cost_seconds":0.0039271}}
{"level":"info","time":"2021-05-06 17:46:36","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.004503,"trace_id":"26ce4772043ee3d9df0e","trace_info":{"trace_id":"26ce4772043ee3d9df0e","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin WXSRWL2dSbunjZRe3CacBrl1cK+cWAsWJdL6m5cbqqc="],"Authorization-Date":["2021-05-06 17:46:37"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go-gin-api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["26ce4772043ee3d9df0e"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0045024},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 17:46:36","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0014524}],"grpc":null,"success":true,"cost_seconds":0.004503}}
{"level":"info","time":"2021-05-06 18:04:33","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 18:04:33","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 18:04:33","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 18:04:33","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:04:42","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0043298,"trace_id":"f24c2e9a6657312415eb","trace_info":{"trace_id":"f24c2e9a6657312415eb","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin w39y6CS3iKQIYpwnwsvkzHB4GPTMPPqZV6RpQH/GT64="],"Authorization-Date":["2021-05-06 18:04:42"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f24c2e9a6657312415eb"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go-gin-api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0043293},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:04:42","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0020234}],"redis":[{"timestamp":"2021-05-06 18:04:42","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009444}],"grpc":null,"success":true,"cost_seconds":0.0043298}}
{"level":"error","time":"2021-05-06 18:04:42","caller":"core/core.go:359","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 39 [running]:\nruntime/debug.Stack(0xc0001c1480, 0x1046bc0, 0x2aa8970)\n\t/usr/lib/golang/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0xc0000c6420, 0x1342660, 0xc00023e328, 0xc0016e46c0, 0xc00044cf00, 0xc01d0dae859a07b8, 0x122373c79, 0x2ac4f60)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:358 +0x19f3\npanic(0x1046bc0, 0x2aa8970)\n\t/usr/lib/golang/src/runtime/panic.go:969 +0x1b9\ngithub.com/xinliangnote/go-gin-api/internal/api/controller/template_handler.(*handler).Tables.func1(0x1342660, 0xc000686b50)\n\t/data/www/go-gin-api/internal/api/controller/template_handler/func_tables.go:50 +0x11d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0xc00044cf00)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214 +0xad\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00044cf00)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0xc00044cf00)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505 +0x1b0\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00044cf00)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0xc00044cf00)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487 +0x210\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00044cf00)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0xc00044cf00)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336 +0x52\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00044cf00)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000382000, 0xc00044cf00)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409 +0x67a\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000382000, 0x1327920, 0xc0001409a0, 0xc000247000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367 +0x14d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0xc000328040, 0x1327920, 0xc0001409a0, 0xc000247000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234 +0x4c\nnet/http.serverHandler.ServeHTTP(0xc0016f8000, 0x1327920, 0xc0001409a0, 0xc000247000)\n\t/usr/lib/golang/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc000012140, 0x132b0a0, 0xc0003ad480)\n\t/usr/lib/golang/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/lib/golang/src/net/http/server.go:2969 +0x36c\n"}
{"level":"error","time":"2021-05-06 18:04:42","caller":"notify/notify.go:15","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:04:42","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.0092702,"trace_id":"2c932cd32b3e781eccb7","trace_info":{"trace_id":"2c932cd32b3e781eccb7","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin UzNVkePvNU38nqlfG14FT2knUuHt7fifvyrmSkbvG0M="],"Authorization-Date":["2021-05-06 18:04:42"],"Connection":["keep-alive"],"Content-Length":["22"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2c932cd32b3e781eccb7"],"Vary":["Origin"]},"body":{"HttpCode":500,"BusinessCode":10101,"Message":"Internal Server Error","Err":null},"business_code":10101,"business_code_msg":"Internal Server Error","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.0092699},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:04:42","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0014367}],"grpc":null,"success":false,"cost_seconds":0.0092702}}
{"level":"error","time":"2021-05-06 18:04:45","caller":"core/core.go:359","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 39 [running]:\nruntime/debug.Stack(0xc0001c1480, 0x1046bc0, 0x2aa8970)\n\t/usr/lib/golang/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0xc0000c6420, 0x1342660, 0xc000686b58, 0xc0016e46c0, 0xc001908000, 0xc01d0daf58ecad84, 0x1e85a4045, 0x2ac4f60)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:358 +0x19f3\npanic(0x1046bc0, 0x2aa8970)\n\t/usr/lib/golang/src/runtime/panic.go:969 +0x1b9\ngithub.com/xinliangnote/go-gin-api/internal/api/controller/template_handler.(*handler).Tables.func1(0x1342660, 0xc000686b50)\n\t/data/www/go-gin-api/internal/api/controller/template_handler/func_tables.go:50 +0x11d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0xc001908000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214 +0xad\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001908000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0xc001908000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505 +0x1b0\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001908000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0xc001908000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487 +0x210\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001908000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0xc001908000)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336 +0x52\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001908000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000382000, 0xc001908000)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409 +0x67a\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000382000, 0x1327920, 0xc00018c460, 0xc00172e300)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367 +0x14d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0xc000328040, 0x1327920, 0xc00018c460, 0xc00172e300)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234 +0x4c\nnet/http.serverHandler.ServeHTTP(0xc0016f8000, 0x1327920, 0xc00018c460, 0xc00172e300)\n\t/usr/lib/golang/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc000012140, 0x132b0a0, 0xc0003ad480)\n\t/usr/lib/golang/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/lib/golang/src/net/http/server.go:2969 +0x36c\n"}
{"level":"error","time":"2021-05-06 18:04:45","caller":"notify/notify.go:15","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:04:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.0097842,"trace_id":"da4fbdb5e78aa503dbb8","trace_info":{"trace_id":"da4fbdb5e78aa503dbb8","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin ewkmFRRvVMYSllrdyKmzXSweaj0v2CxhX/wXPsesyjs="],"Authorization-Date":["2021-05-06 18:04:46"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go-gin-api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["da4fbdb5e78aa503dbb8"],"Vary":["Origin"]},"body":{"HttpCode":500,"BusinessCode":10101,"Message":"Internal Server Error","Err":null},"business_code":10101,"business_code_msg":"Internal Server Error","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.0097838},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:04:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000927}],"grpc":null,"success":false,"cost_seconds":0.0097842}}
{"level":"info","time":"2021-05-06 18:05:20","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:05:20","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:05:20","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:05:20","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:05:26","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0045043,"trace_id":"c8024903ea76e4ddc208","trace_info":{"trace_id":"c8024903ea76e4ddc208","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin lxsYdI4kAvI7y/eJEPetaZh1dtphjFHkZC9QvML928I="],"Authorization-Date":["2021-05-06 18:05:27"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c8024903ea76e4ddc208"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go-gin-api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0045039},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:05:26","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0020347}],"redis":[{"timestamp":"2021-05-06 18:05:26","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008587}],"grpc":null,"success":true,"cost_seconds":0.0045043}}
{"level":"info","time":"2021-05-06 18:05:26","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0138271,"trace_id":"8ba9216321319226b987","trace_info":{"trace_id":"8ba9216321319226b987","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin wAuL0KIERlTD4qNZ8e2A4Q+74+U4AUj8d9EGTG6/T/Q="],"Authorization-Date":["2021-05-06 18:05:27"],"Connection":["keep-alive"],"Content-Length":["22"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8ba9216321319226b987"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0138268},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:05:26","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0015799}],"grpc":null,"success":true,"cost_seconds":0.0138271}}
{"level":"info","time":"2021-05-06 18:05:29","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0135764,"trace_id":"589dd13f1886bc6bd232","trace_info":{"trace_id":"589dd13f1886bc6bd232","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin K5Ge/7+xMvGomRARObM9/el91VGZlkLp9LHWke7kG8M="],"Authorization-Date":["2021-05-06 18:05:30"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go-gin-api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["589dd13f1886bc6bd232"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0135761},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:05:29","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0012225}],"grpc":null,"success":true,"cost_seconds":0.0135764}}
{"level":"info","time":"2021-05-06 18:06:24","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:06:24","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:06:24","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:06:24","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:07:05","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0032933,"trace_id":"50556514db67a53be696","trace_info":{"trace_id":"50556514db67a53be696","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin PEqmWsuynA48PKMgbvuyfmGK3ffCwgUZ8Y0AJuXYoYM="],"Authorization-Date":["2021-05-06 18:07:06"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["50556514db67a53be696"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go-gin-api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0032929},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:07:05","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0014025}],"redis":[{"timestamp":"2021-05-06 18:07:05","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007403}],"grpc":null,"success":true,"cost_seconds":0.0032933}}
{"level":"info","time":"2021-05-06 18:07:05","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0168287,"trace_id":"0df89e6ba58f93895016","trace_info":{"trace_id":"0df89e6ba58f93895016","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin S3b6aosgamactHVwHNZnSaoB6mAVaC6xURO/RxeP2bU="],"Authorization-Date":["2021-05-06 18:07:06"],"Connection":["keep-alive"],"Content-Length":["22"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0df89e6ba58f93895016"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0168284},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:07:05","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009685}],"grpc":null,"success":true,"cost_seconds":0.0168287}}
{"level":"info","time":"2021-05-06 18:07:49","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:07:49","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:07:49","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:07:49","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:07:55","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0054828,"trace_id":"01e4c707b2b465645b31","trace_info":{"trace_id":"01e4c707b2b465645b31","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin gDzTY4U9Z9Qda6QVc7dicFjzgbOXk3MMexQIndXwZBo="],"Authorization-Date":["2021-05-06 18:07:56"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["01e4c707b2b465645b31"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go-gin-api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0054825},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:07:55","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0027686}],"redis":[{"timestamp":"2021-05-06 18:07:55","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010464}],"grpc":null,"success":true,"cost_seconds":0.0054828}}
{"level":"info","time":"2021-05-06 18:07:55","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0128059,"trace_id":"a46b458f92c01d8e40e0","trace_info":{"trace_id":"a46b458f92c01d8e40e0","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin COUb9JZY1imgHS+mSiIyQKOzJO9567hgLyQafMB2Zr8="],"Authorization-Date":["2021-05-06 18:07:56"],"Connection":["keep-alive"],"Content-Length":["22"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a46b458f92c01d8e40e0"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":""},{"table_name":"authorized_api","table_comment":""},{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0128057},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:07:55","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0012715}],"grpc":null,"success":true,"cost_seconds":0.0128059}}
{"level":"info","time":"2021-05-06 18:14:01","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 18:14:01","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 18:14:01","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 18:14:01","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:14:14","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0158175,"trace_id":"bcab1dbbbfa0b67a261a","trace_info":{"trace_id":"bcab1dbbbfa0b67a261a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin HwbpyOItEJaDzFaQrWMvqQ7+HK5DP4O+d0J/MQgh1Do="],"Authorization-Date":["2021-05-06 18:14:15"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["bcab1dbbbfa0b67a261a"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0158172},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:14:14","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = '' ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0133104}],"redis":[{"timestamp":"2021-05-06 18:14:14","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010077}],"grpc":null,"success":true,"cost_seconds":0.0158175}}
{"level":"error","time":"2021-05-06 18:14:14","caller":"core/core.go:359","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: index out of range [0] with length 0","stack":"goroutine 72 [running]:\nruntime/debug.Stack(0xc000273450, 0x11124e0, 0xc000140a20)\n\t/usr/lib/golang/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0xc00049a6c0, 0x13436e0, 0xc0002403a8, 0xc001729c80, 0xc000414ff0, 0xc01d0e3da394d4f0, 0xea234909, 0x2ac5f60)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:358 +0x19f3\npanic(0x11124e0, 0xc000140a20)\n\t/usr/lib/golang/src/runtime/panic.go:969 +0x1b9\ngithub.com/xinliangnote/go-gin-api/internal/api/controller/template_handler.(*handler).Tables.func1(0x13436e0, 0xc0002403b0)\n\t/data/www/go-gin-api/internal/api/controller/template_handler/func_tables.go:54 +0x55d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0xc000414ff0)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214 +0xad\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000414ff0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0xc000414ff0)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505 +0x1b0\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000414ff0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0xc000414ff0)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487 +0x210\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000414ff0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0xc000414ff0)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336 +0x52\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000414ff0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc00025c000, 0xc000414ff0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409 +0x67a\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc00025c000, 0x1328980, 0xc0001a2380, 0xc0000da400)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367 +0x14d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0xc000262320, 0x1328980, 0xc0001a2380, 0xc0000da400)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234 +0x4c\nnet/http.serverHandler.ServeHTTP(0xc000760000, 0x1328980, 0xc0001a2380, 0xc0000da400)\n\t/usr/lib/golang/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc0004a2500, 0x132c0c0, 0xc00049de00)\n\t/usr/lib/golang/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/lib/golang/src/net/http/server.go:2969 +0x36c\n"}
{"level":"error","time":"2021-05-06 18:14:14","caller":"notify/notify.go:15","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:14:14","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.0056037,"trace_id":"2b8c85a09c19ebfdb3de","trace_info":{"trace_id":"2b8c85a09c19ebfdb3de","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin gI45ZtpMlLp88yr8BppL9xG6//uTaMkOEh7ELvZIFvQ="],"Authorization-Date":["2021-05-06 18:14:15"],"Connection":["keep-alive"],"Content-Length":["0"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2b8c85a09c19ebfdb3de"],"Vary":["Origin"]},"body":{"HttpCode":500,"BusinessCode":10101,"Message":"Internal Server Error","Err":null},"business_code":10101,"business_code_msg":"Internal Server Error","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.0056031},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:14:14","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = '' ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0019584}],"redis":[{"timestamp":"2021-05-06 18:14:14","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009686}],"grpc":null,"success":false,"cost_seconds":0.0056037}}
{"level":"info","time":"2021-05-06 18:16:38","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 18:16:38","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 18:16:38","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 18:16:38","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:16:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.006174,"trace_id":"a34704de0d1a64fe36ad","trace_info":{"trace_id":"a34704de0d1a64fe36ad","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Aw5tuyjkI+FxhzOviVglZZ3nvrHfgW3H8oCH33e3vP8="],"Authorization-Date":["2021-05-06 18:16:46"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a34704de0d1a64fe36ad"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0061738},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:16:45","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = '' ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0034538}],"redis":[{"timestamp":"2021-05-06 18:16:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008759}],"grpc":null,"success":true,"cost_seconds":0.006174}}
{"level":"info","time":"2021-05-06 18:16:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0044307,"trace_id":"840f6012817cb2b3ffce","trace_info":{"trace_id":"840f6012817cb2b3ffce","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin rrEsSzIB3qxxbV0XtprorGD70jDJadf7GT5EtBRI0nE="],"Authorization-Date":["2021-05-06 18:16:46"],"Connection":["keep-alive"],"Content-Length":["0"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["840f6012817cb2b3ffce"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0044302},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:16:45","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = '' ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0017774}],"redis":[{"timestamp":"2021-05-06 18:16:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011396}],"grpc":null,"success":true,"cost_seconds":0.0044307}}
{"level":"info","time":"2021-05-06 18:16:59","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0046119,"trace_id":"799e30dbcd78e065c308","trace_info":{"trace_id":"799e30dbcd78e065c308","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Q9t09kELm9CgNmMKabmpeBGKe80D1O+BteK3XLn7sck="],"Authorization-Date":["2021-05-06 18:17:00"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["799e30dbcd78e065c308"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0046116},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:16:59","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = '' ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0023582}],"redis":[{"timestamp":"2021-05-06 18:16:59","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009885}],"grpc":null,"success":true,"cost_seconds":0.0046119}}
{"level":"info","time":"2021-05-06 18:16:59","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.005203,"trace_id":"f248bd59eb76e7ef12bc","trace_info":{"trace_id":"f248bd59eb76e7ef12bc","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin +uV7bhs72R3r8OGyjzhQqtIun6b8TBtQuFlxb+zy2Gw="],"Authorization-Date":["2021-05-06 18:17:00"],"Connection":["keep-alive"],"Content-Length":["0"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f248bd59eb76e7ef12bc"],"Vary":["Origin"]},"body":{"list":null},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0052026},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:16:59","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = '' ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0026562}],"redis":[{"timestamp":"2021-05-06 18:16:59","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011427}],"grpc":null,"success":true,"cost_seconds":0.005203}}
{"level":"info","time":"2021-05-06 18:18:33","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:18:33","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:18:33","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:18:33","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:18:40","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0036924,"trace_id":"5aa1976d43eab63d68fc","trace_info":{"trace_id":"5aa1976d43eab63d68fc","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin dKs/xHLBMGWqtlufSGF/HLJfTZwNlIntVxawZAxO6Bs="],"Authorization-Date":["2021-05-06 18:18:40"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5aa1976d43eab63d68fc"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.003692},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:18:40","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0012125}],"redis":[{"timestamp":"2021-05-06 18:18:40","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0012444}],"grpc":null,"success":true,"cost_seconds":0.0036924}}
{"level":"error","time":"2021-05-06 18:18:40","caller":"core/core.go:359","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 39 [running]:\nruntime/debug.Stack(0xc0002cf478, 0x1047be0, 0x2aa9970)\n\t/usr/lib/golang/src/runtime/debug/stack.go:24 +0x9f\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0xc0003cc600, 0x13436a0, 0xc00021e048, 0xc001647dd0, 0xc0004362d0, 0xc01d0e801352115c, 0xc8dc337d, 0x2ac5f60)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:358 +0x19f3\npanic(0x1047be0, 0x2aa9970)\n\t/usr/lib/golang/src/runtime/panic.go:969 +0x1b9\ngithub.com/xinliangnote/go-gin-api/internal/api/controller/template_handler.(*handler).Tables.func1(0x13436a0, 0xc00021e040)\n\t/data/www/go-gin-api/internal/api/controller/template_handler/func_tables.go:56 +0x2b2\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0xc0004362d0)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:214 +0xad\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0004362d0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0xc0004362d0)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:505 +0x1b0\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0004362d0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0xc0004362d0)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:487 +0x210\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0004362d0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0xc0004362d0)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:336 +0x52\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0004362d0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc00001a280, 0xc0004362d0)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409 +0x67a\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc00001a280, 0x1328940, 0xc0001da380, 0xc0003c2300)\n\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367 +0x14d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0xc00021e900, 0x1328940, 0xc0001da380, 0xc0003c2300)\n\t/data/www/go-gin-api/internal/pkg/core/core.go:234 +0x4c\nnet/http.serverHandler.ServeHTTP(0xc00031e0e0, 0x1328940, 0xc0001da380, 0xc0003c2300)\n\t/usr/lib/golang/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc0000180a0, 0x132c080, 0xc0001aa000)\n\t/usr/lib/golang/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/lib/golang/src/net/http/server.go:2969 +0x36c\n"}
{"level":"error","time":"2021-05-06 18:18:40","caller":"notify/notify.go:15","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:18:40","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.0417817,"trace_id":"6c76c7014789d6f4f0e5","trace_info":{"trace_id":"6c76c7014789d6f4f0e5","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Gg52Gn4rYmKpDMx6UvctiZRCSQdfj/wOx5g0B4ZTpt0="],"Authorization-Date":["2021-05-06 18:18:41"],"Connection":["keep-alive"],"Content-Length":["22"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6c76c7014789d6f4f0e5"],"Vary":["Origin"]},"body":{"HttpCode":500,"BusinessCode":10101,"Message":"Internal Server Error","Err":null},"business_code":10101,"business_code_msg":"Internal Server Error","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.0417812},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:18:40","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0034842}],"redis":[{"timestamp":"2021-05-06 18:18:40","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0236986}],"grpc":null,"success":false,"cost_seconds":0.0417817}}
{"level":"info","time":"2021-05-06 18:18:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0174428,"trace_id":"1a887fbd2d02011b5033","trace_info":{"trace_id":"1a887fbd2d02011b5033","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin n1Hhn2Qj0srRSbCiqZdfTdC3kO23Xz6bIgTCV2owM7M="],"Authorization-Date":["2021-05-06 18:18:46"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1a887fbd2d02011b5033"],"Vary":["Origin"]},"body":{"list":[{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":""},{"table_name":"admin","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":""},{"table_name":"authorized_api","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0174424},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:18:45","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'go_gin_api' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.004241}],"redis":[{"timestamp":"2021-05-06 18:18:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0012015}],"grpc":null,"success":true,"cost_seconds":0.0174428}}
{"level":"info","time":"2021-05-06 18:18:58","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0035259,"trace_id":"9ad5cb04aac48e5407d4","trace_info":{"trace_id":"9ad5cb04aac48e5407d4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 2sNiGaIQiUSuVP0iC5zCjKF8vajnskoF6PEGVr4tyNE="],"Authorization-Date":["2021-05-06 18:18:59"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9ad5cb04aac48e5407d4"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0035251},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:18:58","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0010102}],"redis":[{"timestamp":"2021-05-06 18:18:58","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007733}],"grpc":null,"success":true,"cost_seconds":0.0035259}}
{"level":"info","time":"2021-05-06 18:18:58","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.015686,"trace_id":"35cc194538144bd54d7b","trace_info":{"trace_id":"35cc194538144bd54d7b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 627Ckg0Q1nZF7YRlWwX11r9fDWVpgu1Zg0MW6/jjMv0="],"Authorization-Date":["2021-05-06 18:18:59"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["35cc194538144bd54d7b"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":""},{"table_name":"authorized_api","table_comment":""},{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0156854},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:18:58","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0024988}],"redis":[{"timestamp":"2021-05-06 18:18:58","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011009}],"grpc":null,"success":true,"cost_seconds":0.015686}}
{"level":"info","time":"2021-05-06 18:19:05","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.019138,"trace_id":"7cc47684b5d20e23c1a2","trace_info":{"trace_id":"7cc47684b5d20e23c1a2","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 48nA34oy2MwR7/fjsO+8S90kbO3gPY0wMA85PEIx3+4="],"Authorization-Date":["2021-05-06 18:19:05"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7cc47684b5d20e23c1a2"],"Vary":["Origin"]},"body":{"list":[{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":""},{"table_name":"authorized_api","table_comment":""},{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":""},{"table_name":"admin","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0191377},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:19:05","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'go_gin_api' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0049942}],"redis":[{"timestamp":"2021-05-06 18:19:05","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010913}],"grpc":null,"success":true,"cost_seconds":0.019138}}
{"level":"info","time":"2021-05-06 18:19:06","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0176639,"trace_id":"d4ab4522ff4c6cdecc63","trace_info":{"trace_id":"d4ab4522ff4c6cdecc63","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 1NnEk+/VDbF1UJsl3prLbqr7pJfn6t8DCyXgsBWdTRk="],"Authorization-Date":["2021-05-06 18:19:07"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d4ab4522ff4c6cdecc63"],"Vary":["Origin"]},"body":{"list":[{"table_name":"authorized","table_comment":""},{"table_name":"authorized_api","table_comment":""},{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":""},{"table_name":"admin","table_comment":""},{"table_name":"attribute","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0176636},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:19:06","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0027498}],"redis":[{"timestamp":"2021-05-06 18:19:06","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.00115}],"grpc":null,"success":true,"cost_seconds":0.0176639}}
{"level":"info","time":"2021-05-06 18:20:56","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 18:20:56","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 18:20:56","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:20:56","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:21:02","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0040847,"trace_id":"d22828ea69ff17ae9a7f","trace_info":{"trace_id":"d22828ea69ff17ae9a7f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Kd1svpkv84Dizwzz5I80fsUbc2YMNLtzX48ofKsO0TI="],"Authorization-Date":["2021-05-06 18:21:03"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d22828ea69ff17ae9a7f"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0040839},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:21:02","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.001369}],"redis":[{"timestamp":"2021-05-06 18:21:02","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010094}],"grpc":null,"success":true,"cost_seconds":0.0040847}}
{"level":"info","time":"2021-05-06 18:21:02","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.015154,"trace_id":"eea46c12aad13f7807c2","trace_info":{"trace_id":"eea46c12aad13f7807c2","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin zs3Y27e9srAn+0cEXANM3BM3P2wmt9jAHb/2umg+eeY="],"Authorization-Date":["2021-05-06 18:21:03"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eea46c12aad13f7807c2"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0151536},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:21:02","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0034366}],"redis":[{"timestamp":"2021-05-06 18:21:02","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010912}],"grpc":null,"success":true,"cost_seconds":0.015154}}
{"level":"info","time":"2021-05-06 18:21:13","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0147129,"trace_id":"d61f24bb647d09d5be7f","trace_info":{"trace_id":"d61f24bb647d09d5be7f","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin C+jGO2FEJDYNWmTmWvNxKbK9h35mvKXwAgj8JoV6UG8="],"Authorization-Date":["2021-05-06 18:21:13"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d61f24bb647d09d5be7f"],"Vary":["Origin"]},"body":{"list":[{"table_name":"menu","table_comment":""},{"table_name":"admin","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":""},{"table_name":"authorized_api","table_comment":""},{"table_name":"database","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0147123},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:21:13","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'go_gin_api' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.003042}],"redis":[{"timestamp":"2021-05-06 18:21:13","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009631}],"grpc":null,"success":true,"cost_seconds":0.0147129}}
{"level":"info","time":"2021-05-06 18:25:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0545236,"trace_id":"b21ecb71b07442d29ec2","trace_info":{"trace_id":"b21ecb71b07442d29ec2","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin pRFh4sOsaYqJCE8g31DuIo+D/c1Ll3WZknHy7+os5zo="],"Authorization-Date":["2021-05-06 18:25:45"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b21ecb71b07442d29ec2"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0545233},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:25:45","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0085545}],"redis":[{"timestamp":"2021-05-06 18:25:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0006413}],"grpc":null,"success":true,"cost_seconds":0.0545236}}
{"level":"info","time":"2021-05-06 18:25:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0205088,"trace_id":"1fe6519c7000676ed219","trace_info":{"trace_id":"1fe6519c7000676ed219","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin dZwcBYpusi+veBS/5CePpVTGMIe5zqtTMNPhBwsJfyo="],"Authorization-Date":["2021-05-06 18:25:46"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1fe6519c7000676ed219"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0205081},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:25:45","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0031197}],"redis":[{"timestamp":"2021-05-06 18:25:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007099}],"grpc":null,"success":true,"cost_seconds":0.0205088}}
{"level":"info","time":"2021-05-06 18:25:48","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0338328,"trace_id":"b30c70e6feb50b9d0155","trace_info":{"trace_id":"b30c70e6feb50b9d0155","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin oNJaTjGPzXpO0XNnBEaEXANctfcMeERxw5tcj0oj3hc="],"Authorization-Date":["2021-05-06 18:25:49"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b30c70e6feb50b9d0155"],"Vary":["Origin"]},"body":{"list":[{"table_name":"menu","table_comment":""},{"table_name":"admin","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":""},{"table_name":"authorized_api","table_comment":""},{"table_name":"database","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0338325},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:25:48","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'go_gin_api' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0034439}],"redis":[{"timestamp":"2021-05-06 18:25:48","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0017111}],"grpc":null,"success":true,"cost_seconds":0.0338328}}
{"level":"info","time":"2021-05-06 18:26:09","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 18:26:09","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 18:26:09","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:26:09","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:26:16","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0034781,"trace_id":"ca8657bd38ec6495c378","trace_info":{"trace_id":"ca8657bd38ec6495c378","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 6f8lGxR3v0EktFxdtp8s4hGsSOBNXKNXhBUgiUVds4A="],"Authorization-Date":["2021-05-06 18:26:16"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ca8657bd38ec6495c378"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0034778},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:26:16","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0013782}],"redis":[{"timestamp":"2021-05-06 18:26:16","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008015}],"grpc":null,"success":true,"cost_seconds":0.0034781}}
{"level":"info","time":"2021-05-06 18:26:16","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0165292,"trace_id":"c161ab5df675c9bf06a6","trace_info":{"trace_id":"c161ab5df675c9bf06a6","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin F4qTvVID6A2nvZA7VtCb4D6XZLmKszBwNoFqUGmZFSE="],"Authorization-Date":["2021-05-06 18:26:17"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c161ab5df675c9bf06a6"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0165289},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:26:16","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0022625}],"redis":[{"timestamp":"2021-05-06 18:26:16","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0014033}],"grpc":null,"success":true,"cost_seconds":0.0165292}}
{"level":"info","time":"2021-05-06 18:26:18","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0124917,"trace_id":"128c93817933c0469b26","trace_info":{"trace_id":"128c93817933c0469b26","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin tf1KvItznLp0QNPpKAFoyb3G6NY/1tkyy8TelbNYaWo="],"Authorization-Date":["2021-05-06 18:26:19"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["128c93817933c0469b26"],"Vary":["Origin"]},"body":{"list":[{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":""},{"table_name":"admin","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":""},{"table_name":"authorized_api","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0124915},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:26:18","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'go_gin_api' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0019147}],"redis":[{"timestamp":"2021-05-06 18:26:18","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010149}],"grpc":null,"success":true,"cost_seconds":0.0124917}}
{"level":"info","time":"2021-05-06 18:26:22","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0158473,"trace_id":"166972b846f78539f010","trace_info":{"trace_id":"166972b846f78539f010","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin oUsFIOCrFG7EIknlLWXwl8OgYR5v10+9kDB6CJrJF2A="],"Authorization-Date":["2021-05-06 18:26:22"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["166972b846f78539f010"],"Vary":["Origin"]},"body":{"list":[{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.015847},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:26:22","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.003448}],"redis":[{"timestamp":"2021-05-06 18:26:22","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0013864}],"grpc":null,"success":true,"cost_seconds":0.0158473}}
{"level":"info","time":"2021-05-06 18:29:07","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0612481,"trace_id":"e45dfb10d652b37fb587","trace_info":{"trace_id":"e45dfb10d652b37fb587","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin lpPfT5JcyU2UmK/rOznGQiOzb+lcMzyKeBCZXzZ3hJg="],"Authorization-Date":["2021-05-06 18:29:08"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fauthorized%2Flist; _nav_title_=%E8%B0%83%E7%94%A8%E6%96%B9"],"Referer":["http://127.0.0.1:10002/authorized/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e45dfb10d652b37fb587"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2021-05-06 15:08:04","created_user":"init","updated_at":"2021-05-06 15:08:04","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0612478},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:29:07","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:98","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0069949},{"timestamp":"2021-05-06 18:29:07","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:71","sql":"SELECT count(1) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0015872}],"redis":[{"timestamp":"2021-05-06 18:29:07","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009071}],"grpc":null,"success":true,"cost_seconds":0.0612481}}
{"level":"info","time":"2021-05-06 18:29:11","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0056155,"trace_id":"556a8c1c788fda7c5d46","trace_info":{"trace_id":"556a8c1c788fda7c5d46","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin /mKsG27NUq3+I/dNEIG7EOyHHyDBBWooKCcShLsSSUo="],"Authorization-Date":["2021-05-06 18:29:12"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=%E7%AE%A1%E7%90%86%E5%91%98"],"Referer":["http://127.0.0.1:10002/admin/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["556a8c1c788fda7c5d46"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"created_at":"2021-05-06 15:08:05","created_user":"init","updated_at":"2021-05-06 15:08:05","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0056152},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:29:11","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0021387},{"timestamp":"2021-05-06 18:29:11","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:71","sql":"SELECT count(1) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0014038}],"redis":[{"timestamp":"2021-05-06 18:29:11","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007909}],"grpc":null,"success":true,"cost_seconds":0.0056155}}
{"level":"info","time":"2021-05-06 18:29:12","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0051066,"trace_id":"1cce8d1636de24f2716e","trace_info":{"trace_id":"1cce8d1636de24f2716e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 4crLJQQVP7gM6jywKObu+wlctG8V2KMcqKXc2M/PlQ4="],"Authorization-Date":["2021-05-06 18:29:13"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Fmenu; _nav_title_=%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86"],"Referer":["http://127.0.0.1:10002/admin/menu"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1cce8d1636de24f2716e"],"Vary":["Origin"]},"body":{"list":[{"id":3,"hashid":"JRzOELW6M82Z","pid":0,"name":"test","link":"123","icon":"123","is_used":1},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":2,"name":"567","link":"","icon":"","is_used":1},{"id":1,"hashid":"zjON6am6eMdR","pid":1,"name":"123","link":"","icon":"","is_used":1}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0051063},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:29:12","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/menu_repo/gen_menu.go:98","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY id DESC ","rows_affected":3,"cost_seconds":0.0023974}],"redis":[{"timestamp":"2021-05-06 18:29:12","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011126}],"grpc":null,"success":true,"cost_seconds":0.0051066}}
{"level":"info","time":"2021-05-06 18:29:18","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0022778,"trace_id":"2b0f9e3d2b317cc757c1","trace_info":{"trace_id":"2b0f9e3d2b317cc757c1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin WfEu9+/x0FPvGZemLyij8ta7BrdCPm/szG+X0znzMEU="],"Authorization-Date":["2021-05-06 18:29:19"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2b0f9e3d2b317cc757c1"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0022774},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:29:18","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008925}],"grpc":null,"success":true,"cost_seconds":0.0022778}}
{"level":"info","time":"2021-05-06 18:29:18","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0050627,"trace_id":"19a973619072433503ef","trace_info":{"trace_id":"19a973619072433503ef","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 5LDvSbAylMioAwTws/M6xI7wHPeXCgtHTHXiOY98lU8="],"Authorization-Date":["2021-05-06 18:29:19"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["19a973619072433503ef"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0050624},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:29:18","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011844}],"grpc":null,"success":true,"cost_seconds":0.0050627}}
{"level":"info","time":"2021-05-06 18:29:22","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/cache/search","http_code":400,"business_code":20503,"success":false,"cost_seconds":0.0044732,"trace_id":"4f78d4236ff9e7765769","trace_info":{"trace_id":"4f78d4236ff9e7765769","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin HONT00oKEwjXkBziYQWYKuDS71b2PhQEsPQ0fyBbr5Q="],"Authorization-Date":["2021-05-06 18:29:23"],"Connection":["keep-alive"],"Content-Length":["13"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fcache; _nav_title_=%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/cache"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"redis_key=123"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4f78d4236ff9e7765769"],"Vary":["Origin"]},"body":{"HttpCode":400,"BusinessCode":20503,"Message":"查询的 Redis Key 不存在","Err":null},"business_code":20503,"business_code_msg":"查询的 Redis Key 不存在","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.004473},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:29:22","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0013001}],"grpc":null,"success":false,"cost_seconds":0.0044732}}
{"level":"info","time":"2021-05-06 18:29:25","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0023326,"trace_id":"75aaf551eb1dd01ce484","trace_info":{"trace_id":"75aaf551eb1dd01ce484","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin U/A0evU1TyuaEdINbAnCoOXOtm9XYbUwOX8wcNtoSSE="],"Authorization-Date":["2021-05-06 18:29:25"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["75aaf551eb1dd01ce484"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0023322},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:29:25","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010442}],"grpc":null,"success":true,"cost_seconds":0.0023326}}
{"level":"info","time":"2021-05-06 18:29:25","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.00316,"trace_id":"227654377039e496a94c","trace_info":{"trace_id":"227654377039e496a94c","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 0cR5bc2ZQbGVTEc4n1BvGi2mj86zvL7ZWDVl7YlCOIM="],"Authorization-Date":["2021-05-06 18:29:25"],"Connection":["keep-alive"],"Content-Length":["18"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Fdata; _nav_title_=%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/tool/data"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["227654377039e496a94c"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"attribute","table_comment":""},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"database","table_comment":""},{"table_name":"menu","table_comment":"左侧菜单栏表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0031597},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-06 18:29:25","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007238}],"grpc":null,"success":true,"cost_seconds":0.00316}}
{"level":"info","time":"2021-05-06 18:33:08","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0305583,"trace_id":"218044939fe701f6b175","trace_info":{"trace_id":"218044939fe701f6b175","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin q6hC5R3LvxkGAdorZi6o4ZC1ZSfLu/NdOpi8uDBGTck="],"Authorization-Date":["2021-05-06 18:33:09"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["218044939fe701f6b175"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.030558},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:33:08","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.011022}],"redis":[{"timestamp":"2021-05-06 18:33:08","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0012522}],"grpc":null,"success":true,"cost_seconds":0.0305583}}
{"level":"info","time":"2021-05-06 18:33:08","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0142098,"trace_id":"e66f5d17696680a83978","trace_info":{"trace_id":"e66f5d17696680a83978","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 4fBBhqohStmL+ZRQycWqUw0drxlOfmrUvQ3VFOM/jVc="],"Authorization-Date":["2021-05-06 18:33:09"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e66f5d17696680a83978"],"Vary":["Origin"]},"body":{"list":[{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0142093},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:33:08","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0019849}],"redis":[{"timestamp":"2021-05-06 18:33:08","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010537}],"grpc":null,"success":true,"cost_seconds":0.0142098}}
{"level":"info","time":"2021-05-06 18:33:12","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 18:33:12","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 18:33:12","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:33:12","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:34:03","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0039837,"trace_id":"eaaa9530903d94d9d741","trace_info":{"trace_id":"eaaa9530903d94d9d741","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin oe3/wvU+t0V0LC4vhPlAGK5fAN4lXs7lRTuxO+Uo6FI="],"Authorization-Date":["2021-05-06 18:34:03"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eaaa9530903d94d9d741"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0039793},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:34:03","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0016173}],"redis":[{"timestamp":"2021-05-06 18:34:03","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007726}],"grpc":null,"success":true,"cost_seconds":0.0039837}}
{"level":"info","time":"2021-05-06 18:34:03","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0123817,"trace_id":"902c9825c96c0137d96f","trace_info":{"trace_id":"902c9825c96c0137d96f","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin GG0iAjvfv91wxx/T4fYdliaoDXNBCzVJKlWculpJhK4="],"Authorization-Date":["2021-05-06 18:34:04"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["902c9825c96c0137d96f"],"Vary":["Origin"]},"body":{"list":[{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0123814},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:34:03","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0027058}],"redis":[{"timestamp":"2021-05-06 18:34:03","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009877}],"grpc":null,"success":true,"cost_seconds":0.0123817}}
{"level":"info","time":"2021-05-06 18:34:34","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:34:34","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:34:34","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:34:34","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:35:44","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0036795,"trace_id":"5b93a78d812ee4c4eae8","trace_info":{"trace_id":"5b93a78d812ee4c4eae8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 2Jci7fY/26uqCMX0BLPNIAUWXYGavwH4rqSMacof8Gs="],"Authorization-Date":["2021-05-06 18:35:45"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5b93a78d812ee4c4eae8"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0036791},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:35:44","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0014919}],"redis":[{"timestamp":"2021-05-06 18:35:44","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008285}],"grpc":null,"success":true,"cost_seconds":0.0036795}}
{"level":"info","time":"2021-05-06 18:35:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0146646,"trace_id":"4b371050fac3750ebdf6","trace_info":{"trace_id":"4b371050fac3750ebdf6","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin u2X3RIVse/5u0HdKt5I+m7ehU89cCY14xqa740pvP8Q="],"Authorization-Date":["2021-05-06 18:35:45"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4b371050fac3750ebdf6"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0146641},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:35:45","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0023132}],"redis":[{"timestamp":"2021-05-06 18:35:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008493}],"grpc":null,"success":true,"cost_seconds":0.0146646}}
{"level":"info","time":"2021-05-06 18:43:44","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 18:43:44","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 18:43:44","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 18:43:44","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:43:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0051764,"trace_id":"184924da36876096b1e1","trace_info":{"trace_id":"184924da36876096b1e1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin K/ktHox3kMjZvt9VBjTmnxVNBldubbzlQnQFicaBpFs="],"Authorization-Date":["2021-05-06 18:43:57"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["184924da36876096b1e1"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0051761},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:43:56","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0026585}],"redis":[{"timestamp":"2021-05-06 18:43:56","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010044}],"grpc":null,"success":true,"cost_seconds":0.0051764}}
{"level":"info","time":"2021-05-06 18:43:57","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0031027,"trace_id":"1a013b8075666dec8c96","trace_info":{"trace_id":"1a013b8075666dec8c96","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin A6mnxEgTIcCdWDXGkCFF6t4h0wijB7vA1YO2Fna/StY="],"Authorization-Date":["2021-05-06 18:43:58"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1a013b8075666dec8c96"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0031024},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:43:57","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0012237}],"redis":[{"timestamp":"2021-05-06 18:43:57","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0006506}],"grpc":null,"success":true,"cost_seconds":0.0031027}}
{"level":"info","time":"2021-05-06 18:43:57","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0143042,"trace_id":"c3ccb5ebe75e19a551b4","trace_info":{"trace_id":"c3ccb5ebe75e19a551b4","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin oftlgFcvbNwG9ntDo8M25Qgc+JgHHJGysM2b6OTdFd0="],"Authorization-Date":["2021-05-06 18:43:58"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c3ccb5ebe75e19a551b4"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0143039},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:43:57","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0022652}],"redis":[{"timestamp":"2021-05-06 18:43:57","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009306}],"grpc":null,"success":true,"cost_seconds":0.0143042}}
{"level":"info","time":"2021-05-06 18:44:01","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0038251,"trace_id":"9723ef0379a60f095e7a","trace_info":{"trace_id":"9723ef0379a60f095e7a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin P+z6g+XhaQMGVpCXj87inIwIGTK5hAdM01jKjgq62Y4="],"Authorization-Date":["2021-05-06 18:44:02"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9723ef0379a60f095e7a"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0038243},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:44:01","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.001294}],"redis":[{"timestamp":"2021-05-06 18:44:01","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010746}],"grpc":null,"success":true,"cost_seconds":0.0038251}}
{"level":"info","time":"2021-05-06 18:44:01","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0153385,"trace_id":"812409c774cbcc5232fa","trace_info":{"trace_id":"812409c774cbcc5232fa","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin tsoTvjPPdt7wdpZA3RFmY2zCXx0pggC8VQwKqupDbVw="],"Authorization-Date":["2021-05-06 18:44:02"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["812409c774cbcc5232fa"],"Vary":["Origin"]},"body":{"list":[{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0153383},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:44:01","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0029139}],"redis":[{"timestamp":"2021-05-06 18:44:01","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010976}],"grpc":null,"success":true,"cost_seconds":0.0153385}}
{"level":"info","time":"2021-05-06 18:44:09","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0039599,"trace_id":"6f3cd316436d1f5b23eb","trace_info":{"trace_id":"6f3cd316436d1f5b23eb","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 7hUUVwWgJaCqSe9pdzGqLraNzLcWV3lxHjY4keaCIJY="],"Authorization-Date":["2021-05-06 18:44:10"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6f3cd316436d1f5b23eb"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0039594},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:44:09","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0015463}],"redis":[{"timestamp":"2021-05-06 18:44:09","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011109}],"grpc":null,"success":true,"cost_seconds":0.0039599}}
{"level":"info","time":"2021-05-06 18:44:09","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0145243,"trace_id":"c60e540d6ba5800826ad","trace_info":{"trace_id":"c60e540d6ba5800826ad","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin ZlBBA+MgZvlDPyS0pm9hlYBqLIV379I4ycHr3A4a/QA="],"Authorization-Date":["2021-05-06 18:44:10"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c60e540d6ba5800826ad"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0145237},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:44:09","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0028278}],"redis":[{"timestamp":"2021-05-06 18:44:09","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011394}],"grpc":null,"success":true,"cost_seconds":0.0145243}}
{"level":"info","time":"2021-05-06 18:45:21","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:45:21","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:45:21","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:45:21","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 18:45:41","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.00701,"trace_id":"39851cdad20aca97335b","trace_info":{"trace_id":"39851cdad20aca97335b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin EKNTqBZkpnUZVbYrMMs9o7782G5gDWHn1uxIgOOIKDo="],"Authorization-Date":["2021-05-06 18:45:41"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["39851cdad20aca97335b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0070096},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:45:41","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0041686}],"redis":[{"timestamp":"2021-05-06 18:45:41","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0013073}],"grpc":null,"success":true,"cost_seconds":0.00701}}
{"level":"info","time":"2021-05-06 18:45:41","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0051093,"trace_id":"de9af2623d1979e4756e","trace_info":{"trace_id":"de9af2623d1979e4756e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin jZbpZvmvStXbIE3LKUA7oQtV05c2usjs7vlgpJDP9vU="],"Authorization-Date":["2021-05-06 18:45:41"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["de9af2623d1979e4756e"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0051088},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:45:41","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.001825}],"redis":[{"timestamp":"2021-05-06 18:45:41","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010837}],"grpc":null,"success":true,"cost_seconds":0.0051093}}
{"level":"info","time":"2021-05-06 18:45:41","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0112167,"trace_id":"d6cf0ba27727a052d13b","trace_info":{"trace_id":"d6cf0ba27727a052d13b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin kQp+7Byy87bALCnWTdHcKmy0LcU5H+YEraAEUVUlUUY="],"Authorization-Date":["2021-05-06 18:45:41"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["d6cf0ba27727a052d13b"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0112164},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 18:45:41","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.001643}],"redis":[{"timestamp":"2021-05-06 18:45:41","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007037}],"grpc":null,"success":true,"cost_seconds":0.0112167}}
{"level":"info","time":"2021-05-06 19:01:50","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 19:01:50","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 19:01:50","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 19:01:50","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:01:58","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0030445,"trace_id":"503ce0f910d854ef825e","trace_info":{"trace_id":"503ce0f910d854ef825e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 0w+1Z685HesyCpo8rNIZKhJUMOzC3npLhkJPcndAIyQ="],"Authorization-Date":["2021-05-06 19:01:59"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["503ce0f910d854ef825e"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0030438},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 19:01:58","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0011793}],"redis":[{"timestamp":"2021-05-06 19:01:58","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0007382}],"grpc":null,"success":true,"cost_seconds":0.0030445}}
{"level":"info","time":"2021-05-06 19:01:58","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0125467,"trace_id":"f75fa2284029708b1e33","trace_info":{"trace_id":"f75fa2284029708b1e33","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 8tUdy1+nx3AwydyOfwJ0wKHlPtoDCYuz+AVnmxZtzj8="],"Authorization-Date":["2021-05-06 19:01:59"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f75fa2284029708b1e33"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""}],"gorm_data":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0125463},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 19:01:58","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0019754}],"redis":[{"timestamp":"2021-05-06 19:01:58","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0008829}],"grpc":null,"success":true,"cost_seconds":0.0125467}}
{"level":"info","time":"2021-05-06 19:02:37","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0038517,"trace_id":"31c193c4d919a2931366","trace_info":{"trace_id":"31c193c4d919a2931366","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin Rv8qwMgRZIqulJw89yeeEs+EWUdBbY2Pug2R15b6MIs="],"Authorization-Date":["2021-05-06 19:02:37"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["31c193c4d919a2931366"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0038513},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 19:02:37","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0017052}],"redis":[{"timestamp":"2021-05-06 19:02:37","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.00074}],"grpc":null,"success":true,"cost_seconds":0.0038517}}
{"level":"info","time":"2021-05-06 19:02:37","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0155779,"trace_id":"e67da18be8df73a798ae","trace_info":{"trace_id":"e67da18be8df73a798ae","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin YKtpYN1TYBiepr+YHIYr+psGHVxshdHCWQTcccyu/2M="],"Authorization-Date":["2021-05-06 19:02:37"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["e67da18be8df73a798ae"],"Vary":["Origin"]},"body":{"list":[{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""}],"gorm_data":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0155775},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 19:02:37","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0022594}],"redis":[{"timestamp":"2021-05-06 19:02:37","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0011963}],"grpc":null,"success":true,"cost_seconds":0.0155779}}
{"level":"info","time":"2021-05-06 19:03:43","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:03:43","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:03:43","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:03:43","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:04:00","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0039921,"trace_id":"2678aa247261f83ba09f","trace_info":{"trace_id":"2678aa247261f83ba09f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin 06GfXOJXVfknRox5T6noUgmFMfcEX6GCEV9VpgoJZ3w="],"Authorization-Date":["2021-05-06 19:04:01"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2678aa247261f83ba09f"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0039918},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 19:04:00","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0013691}],"redis":[{"timestamp":"2021-05-06 19:04:00","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009633}],"grpc":null,"success":true,"cost_seconds":0.0039921}}
{"level":"info","time":"2021-05-06 19:04:00","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0209811,"trace_id":"3b70cb0e9fbca9f66adb","trace_info":{"trace_id":"3b70cb0e9fbca9f66adb","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin s/oeQLbeYjr7uyhwWdDUA1PWBE17G49qiWw16f8cuZM="],"Authorization-Date":["2021-05-06 19:04:01"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3b70cb0e9fbca9f66adb"],"Vary":["Origin"]},"body":{"list":[{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""},{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""}],"gorm_data":""},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0209801},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 19:04:00","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0030941}],"redis":[{"timestamp":"2021-05-06 19:04:00","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009853}],"grpc":null,"success":true,"cost_seconds":0.0209811}}
{"level":"info","time":"2021-05-06 19:05:29","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:05:29","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:05:29","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:05:29","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-06 19:05:38","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/template/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0040123,"trace_id":"ad930464ed8198dba141","trace_info":{"trace_id":"ad930464ed8198dba141","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/template/data/dbs","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin YN7FosI7cdiX/upbc6oexTcFoym592yh1A+yOnlf6m4="],"Authorization-Date":["2021-05-06 19:05:39"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ad930464ed8198dba141"],"Vary":["Origin"]},"body":{"list":[{"db_name":"saas_mis_split_4","id":2,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"},{"db_name":"go_gin_api","id":1,"addr":"host.docker.internal","ports":3306,"account":"root","password":"123456"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0040119},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 19:05:38","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` ORDER BY id DESC ","rows_affected":2,"cost_seconds":0.0016244}],"redis":[{"timestamp":"2021-05-06 19:05:38","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0009477}],"grpc":null,"success":true,"cost_seconds":0.0040123}}
{"level":"info","time":"2021-05-06 19:05:50","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/api/template/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":11.4599657,"trace_id":"3f273fae89d221fcbcfa","trace_info":{"trace_id":"3f273fae89d221fcbcfa","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/template/data/tables","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["zh-CN,zh;q=0.9,en;q=0.8"],"Authorization":["admin +pp0dd2n5FkBiCrDXcS2qmOdLPu6YGtBIL/pA4ifG0M="],"Authorization-Date":["2021-05-06 19:05:39"],"Connection":["keep-alive"],"Content-Length":["24"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["session_id=[object Object]; i18n_redirected=en; checkouts=50f10e6c93e0c5baead1f59c08796e0b; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftemplate%2Fgen; _nav_title_=template"],"Origin":["http://127.0.0.1:10002"],"Referer":["http://127.0.0.1:10002/template/gen"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"db_name=saas_mis_split_4"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3f273fae89d221fcbcfa"],"Vary":["Origin"]},"body":{"list":[{"table_name":"big_settings","table_comment":""},{"table_name":"cart_items","table_comment":""},{"table_name":"cart_traces","table_comment":""},{"table_name":"attribute","table_comment":""}],"gorm_data":""},"http_code":200,"http_code_msg":"OK","cost_seconds":11.4599655},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-06 19:05:38","stack":"/data/www/go-gin-api/internal/api/repository/db_repo/database_repo/gen_database.go:96","sql":"SELECT * FROM `database` WHERE name = 'saas_mis_split_4' ORDER BY id DESC ","rows_affected":1,"cost_seconds":0.0071351}],"redis":[{"timestamp":"2021-05-06 19:05:38","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010508}],"grpc":null,"success":true,"cost_seconds":11.4599657}}
{"level":"info","time":"2021-05-06 19:11:32","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-06 19:11:32","caller":"go-gin-api/main.go:78","msg":"dbw close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"error","time":"2021-05-06 19:11:32","caller":"go-gin-api/main.go:84","msg":"dbr close err","domain":"go-gin-api[fat]","error":"bad connection"}
{"level":"info","time":"2021-05-06 19:11:32","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
